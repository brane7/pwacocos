System.register("chunks:///_virtual/main",["./PWAInstaller.ts","./ServiceWorker.ts"],(function(){return{setters:[null,null],execute:function(){}}}));

System.register("chunks:///_virtual/PWAInstaller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ServiceWorker.ts"],(function(t){var e,n,s,i,r,o,l,a,u,c,d,h,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,s=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){l=t.cclegacy,a=t._decorator,u=t.Button,c=t.Label,d=t.screen,h=t.sys,p=t.Component},function(t){f=t.ServiceWorker}],execute:function(){var I,m,b,g,P,w,v,y,L,B,W;l._RF.push({},"72048sXgK5KG4XP/f3z1DCG","PWAInstaller",void 0);var A=a.ccclass,C=a.property;t("PWAInstaller",(I=A("PWAInstaller"),m=C(u),b=C(f),g=C(c),P=C(c),I((y=e((v=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,s(e,"installButton",y,i(e)),s(e,"serviceWorker",L,i(e)),s(e,"versionLabel",B,i(e)),s(e,"statusLabel",W,i(e)),e.deferredPrompt=null,e.isInstalled=!1,e}n(e,t);var l=e.prototype;return l.start=function(){var t=this;this.deferredPrompt=window.deferredPrompt,this.isInstalled=window.isInstalled,this.checkPWAInstallation(),this.setupEventListeners(),this.updateUI(),this.versionLabel.string="v0.0.12",d.on("window-resize",(function(){setTimeout((function(){console.log("window-resize"),t.checkPWAInstallation(),t.updateUI()}),100)}),this)},l.checkPWAInstallation=function(){h.isBrowser&&(window.matchMedia("(display-mode: standalone)").matches&&(this.isInstalled=!0),console.log("isInstalled",this.isInstalled),console.log("브라우저 환경:",h.isBrowser),console.log("display-mode standalone:",window.matchMedia("(display-mode: standalone)").matches))},l.setupEventListeners=function(){var t=this;this.installButton&&this.installButton.node.on(u.EventType.CLICK,this.onInstallButtonClick,this),h.isBrowser&&(window.addEventListener("beforeinstallprompt",(function(e){e.preventDefault(),t.deferredPrompt=e,t.updateUI()})),window.addEventListener("appinstalled",(function(){t.isInstalled=!0,t.updateUI(),console.log("PWA가 성공적으로 설치되었습니다!")})))},l.onInstallButtonClick=function(){this.deferredPrompt?this.showInstallPrompt():this.isInstalled?this.showAlreadyInstalledMessage():this.showInstallInstructions()},l.showInstallPrompt=function(){var t=r(o().mark((function t(){var e,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.deferredPrompt){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,this.deferredPrompt.prompt(),t.next=6,this.deferredPrompt.userChoice;case 6:e=t.sent,n=e.outcome,console.log("outcome",n,this.deferredPrompt),"accepted"===n?(console.log("사용자가 PWA 설치를 수락했습니다"),this.statusLabel.string="설치 중...",this.deferredPrompt=null):(console.log("사용자가 PWA 설치를 거부했습니다"),this.statusLabel.string="설치가 취소되었습니다"),this.updateUI(),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(2),console.error("PWA 설치 중 오류 발생:",t.t0),this.statusLabel.string="설치 중 오류가 발생했습니다";case 17:case"end":return t.stop()}}),t,this,[[2,13]])})));return function(){return t.apply(this,arguments)}}(),l.showAlreadyInstalledMessage=function(){var t=this;this.statusLabel.string="PWA가 이미 설치되어 있습니다!",setTimeout((function(){t.updateUI()}),2e3)},l.showInstallInstructions=function(){var t=this;this.statusLabel.string="브라우저에서 설치 옵션을 찾아주세요",setTimeout((function(){t.updateUI()}),3e3)},l.updateUI=function(){this.installButton&&this.statusLabel&&(this.isInstalled?(this.installButton.interactable=!1,this.installButton.node.getComponentInChildren(c).string="이미 설치됨",this.statusLabel.string="PWA가 설치되어 있습니다"):this.deferredPrompt?(this.installButton.interactable=!0,this.installButton.node.getComponentInChildren(c).string="PWA 설치",this.statusLabel.string="설치할 준비가 되었습니다"):(this.installButton.interactable=!1,this.installButton.node.getComponentInChildren(c).string="설치 불가",this.statusLabel.string="이미 설치되어있거나 설치 할수 없습니다"))},l.isPWAInstallable=function(){return null!==this.deferredPrompt&&!this.isInstalled},l.refreshInstallationStatus=function(){this.checkPWAInstallation(),this.updateUI()},l.onDestroy=function(){this.installButton&&this.installButton.node.off(u.EventType.CLICK,this.onInstallButtonClick,this)},e}(p)).prototype,"installButton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(v.prototype,"serviceWorker",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(v.prototype,"versionLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(v.prototype,"statusLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=v))||w));l._RF.pop()}}}));

System.register("chunks:///_virtual/ServiceWorker.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,r,o,s,u,c,a,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){u=t.cclegacy,c=t._decorator,a=t.Button,h=t.Label,p=t.Component}],execute:function(){var l,f,b,g,v,d,k;u._RF.push({},"95ee2quKp5OuoJ6boIZGaGc","ServiceWorker",void 0);var w=c.ccclass,B=c.property;t("ServiceWorker",(l=w("ServiceWorker"),f=B(a),b=B(a),l((d=e((v=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,i(e,"subscribeButton",d,r(e)),i(e,"testPushButton",k,r(e)),e.registration=null,e}n(e,t);var u=e.prototype;return u.start=function(){this.registerServiceWorker(),this.setupEventListeners()},u.registerServiceWorker=function(){this.registration=window.registration,this.checkPushNotificationSupport()},u.checkPushNotificationSupport=function(){"PushManager"in window?(console.log("✅ 푸시 알림 지원됨"),this.checkPushSubscription()):console.log("❌ 푸시 알림 지원되지 않음")},u.checkPushSubscription=function(){var t=o(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.registration){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,this.registration.pushManager.getSubscription();case 5:(e=t.sent)?(console.log("✅ 이미 푸시 구독됨:",e),this.updateSubscribeButton(!0)):(console.log("⏳ 푸시 구독 필요"),this.updateSubscribeButton(!1)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log("❌ 푸시 구독 상태 확인 실패:",t.t0);case 12:case"end":return t.stop()}}),t,this,[[2,9]])})));return function(){return t.apply(this,arguments)}}(),u.subscribeToPushNotifications=function(){var t=o(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("🔔 테스트 푸시 알림 구독"),this.showSubscribeFeedback(!0),this.updateSubscribeButton(!0),t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.unsubscribeFromPushNotifications=function(){var t=o(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("🔔 테스트 푸시 알림 구독 해제"),this.showSubscribeFeedback(!1),this.updateSubscribeButton(!1),t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.showSubscribeFeedback=function(t){if(this.subscribeButton){var e=this.subscribeButton.node.getComponentInChildren(h);if(e){e.string;e.string=t?"구독됨!":"해제됨!"}}},u.updateSubscribeButton=function(t){if(this.subscribeButton){var e=this.subscribeButton.node.getComponentInChildren(h);e&&(t?(e.string="푸시 해제",console.log('✅ 구독 완료: 버튼이 "푸시 해제"로 변경됨')):(e.string="푸시 구독",console.log('✅ 구독 해제 완료: 버튼이 "푸시 구독"으로 변경됨'))),this.subscribeButton.interactable=!0}},u.setupEventListeners=function(){this.subscribeButton&&this.subscribeButton.node.on(a.EventType.CLICK,this.onSubscribeButtonClick,this),this.testPushButton&&this.testPushButton.node.on(a.EventType.CLICK,this.onTestPushButtonClick,this)},u.onSubscribeButtonClick=function(){console.log("🔔 구독 버튼 클릭됨"),this.checkCurrentSubscriptionAndToggle()},u.checkCurrentSubscriptionAndToggle=function(){var t=o(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getSubscriptionStatus();case 3:if(!t.sent){t.next=10;break}return console.log("🔄 구독 해제 중..."),t.next=8,this.unsubscribeFromPushNotifications();case 8:t.next=13;break;case 10:return console.log("🔄 구독 중..."),t.next=13,this.subscribeToPushNotifications();case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.error("❌ 구독 상태 토글 실패:",t.t0);case 18:case"end":return t.stop()}}),t,this,[[0,15]])})));return function(){return t.apply(this,arguments)}}(),u.onTestPushButtonClick=function(){console.log("🧪 테스트 푸시 버튼 클릭됨"),this.showTestPushNotification(),this.showTestButtonFeedback()},u.showTestButtonFeedback=function(){if(this.testPushButton){var t,e=(null==(t=this.testPushButton.node.getComponentInChildren(h))?void 0:t.string)||"테스트 푸시",n=this.testPushButton.node.getComponentInChildren(h);n&&(n.string="전송됨!",setTimeout((function(){n.string=e}),2e3))}},u.showTestPushNotification=function(){var t=this;"Notification"in window?"granted"===Notification.permission?this.createTestNotification():"denied"!==Notification.permission?Notification.requestPermission().then((function(e){"granted"===e?t.createTestNotification():console.log("❌ 알림 권한이 거부됨")})):console.log("❌ 알림 권한이 거부됨"):console.log("❌ 이 브라우저는 알림을 지원하지 않습니다")},u.createTestNotification=function(){console.log("🔔 테스트 알림 생성");var t=new Notification("🚀 PWA 테스트 알림!",{body:"서버 연동 없이 로컬에서 푸시 알림이 작동합니다!",icon:"/pwacocos/icon.png",badge:"/pwacocos/icon.png",tag:"test-notification",requireInteraction:!1,silent:!1,data:{type:"test",timestamp:Date.now()}});t.onclick=function(e){console.log("🔔 테스트 알림 클릭됨:",e),t.close(),window.focus&&window.focus()},setTimeout((function(){t.close()}),5e3),console.log("✅ 테스트 푸시 알림 전송됨")},u.showMultipleTestNotifications=function(t){var e=this;void 0===t&&(t=3);for(var n=0;n<t;n++)setTimeout((function(){e.createTestNotification()}),1e3*n)},u.getSubscriptionStatus=function(){var t=o(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.registration){t.next=2;break}return t.abrupt("return",!1);case 2:return t.prev=2,t.next=5,this.registration.pushManager.getSubscription();case 5:return e=t.sent,t.abrupt("return",null!==e);case 9:return t.prev=9,t.t0=t.catch(2),console.log("구독 상태 확인 실패:",t.t0),t.abrupt("return",!1);case 13:case"end":return t.stop()}}),t,this,[[2,9]])})));return function(){return t.apply(this,arguments)}}(),u.isServiceWorkerRegistered=function(){return null!==this.registration},u.isPushNotificationSupported=function(){return"PushManager"in window&&"serviceWorker"in navigator},u.reRegisterServiceWorker=function(){var t=o(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.registration){t.next=3;break}return t.next=3,this.registration.unregister();case 3:this.registerServiceWorker();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.onDestroy=function(){this.subscribeButton&&this.subscribeButton.node.off(a.EventType.CLICK,this.onSubscribeButtonClick,this),this.testPushButton&&this.testPushButton.node.off(a.EventType.CLICK,this.onTestPushButtonClick,this)},e}(p)).prototype,"subscribeButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(v.prototype,"testPushButton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=v))||g));u._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2ZpbGU6L0Q6L2NvY29zVGVzdDNEL0V4cGVyaW1lbnQvcHdhY29jb3NfY2xpZW50L2Fzc2V0cy9maWxlOi9EOi9jb2Nvc1Rlc3QzRC9FeHBlcmltZW50L3B3YWNvY29zX2NsaWVudC9hc3NldHMvUFdBSW5zdGFsbGVyLnRzIiwiLi4vZmlsZTovRDovY29jb3NUZXN0M0QvRXhwZXJpbWVudC9wd2Fjb2Nvc19jbGllbnQvYXNzZXRzL2ZpbGU6L0Q6L2NvY29zVGVzdDNEL0V4cGVyaW1lbnQvcHdhY29jb3NfY2xpZW50L2Fzc2V0cy9TZXJ2aWNlV29ya2VyLnRzIl0sIm5hbWVzIjpbImNjY2xhc3MiLCJfZGVjb3JhdG9yIiwicHJvcGVydHkiLCJfZGVjIiwiX2RlYzIiLCJCdXR0b24iLCJfZGVjMyIsIlNlcnZpY2VXb3JrZXIiLCJfZGVjNCIsIkxhYmVsIiwiX2RlYzUiLCJfZGVzY3JpcHRvciIsIl9hcHBseURlY29yYXRlZERlc2NyaXB0b3IiLCJfY2xhc3MyIiwiX0NvbXBvbmVudCIsIlBXQUluc3RhbGxlciIsIl90aGlzIiwiX2xlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJjYWxsIiwiYXBwbHkiLCJjb25jYXQiLCJfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSIsIl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJfZGVzY3JpcHRvcjIiLCJfZGVzY3JpcHRvcjMiLCJfZGVzY3JpcHRvcjQiLCJkZWZlcnJlZFByb21wdCIsImlzSW5zdGFsbGVkIiwiX2luaGVyaXRzTG9vc2UiLCJfcHJvdG8iLCJwcm90b3R5cGUiLCJzdGFydCIsIl90aGlzMiIsInRoaXMiLCJ3aW5kb3ciLCJjaGVja1BXQUluc3RhbGxhdGlvbiIsInNldHVwRXZlbnRMaXN0ZW5lcnMiLCJ1cGRhdGVVSSIsInZlcnNpb25MYWJlbCIsInN0cmluZyIsInNjcmVlbiIsIm9uIiwic2V0VGltZW91dCIsImNvbnNvbGUiLCJsb2ciLCJzeXMiLCJpc0Jyb3dzZXIiLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsIl90aGlzMyIsImluc3RhbGxCdXR0b24iLCJub2RlIiwiRXZlbnRUeXBlIiwiQ0xJQ0siLCJvbkluc3RhbGxCdXR0b25DbGljayIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJzaG93SW5zdGFsbFByb21wdCIsInNob3dBbHJlYWR5SW5zdGFsbGVkTWVzc2FnZSIsInNob3dJbnN0YWxsSW5zdHJ1Y3Rpb25zIiwiX3Nob3dJbnN0YWxsUHJvbXB0IiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJfcmVnZW5lcmF0b3JSdW50aW1lIiwibWFyayIsIl9jYWxsZWUiLCJfeWllbGQkdGhpcyRkZWZlcnJlZFAiLCJvdXRjb21lIiwid3JhcCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJhYnJ1cHQiLCJwcm9tcHQiLCJ1c2VyQ2hvaWNlIiwic2VudCIsInN0YXR1c0xhYmVsIiwidDAiLCJlcnJvciIsInN0b3AiLCJfdGhpczQiLCJfdGhpczUiLCJpbnRlcmFjdGFibGUiLCJnZXRDb21wb25lbnRJbkNoaWxkcmVuIiwiaXNQV0FJbnN0YWxsYWJsZSIsInJlZnJlc2hJbnN0YWxsYXRpb25TdGF0dXMiLCJvbkRlc3Ryb3kiLCJvZmYiLCJDb21wb25lbnQiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJpbml0aWFsaXplciIsIl9jbGFzcyIsIl9SRiIsInBvcCIsInJlZ2lzdHJhdGlvbiIsInJlZ2lzdGVyU2VydmljZVdvcmtlciIsImNoZWNrUHVzaE5vdGlmaWNhdGlvblN1cHBvcnQiLCJjaGVja1B1c2hTdWJzY3JpcHRpb24iLCJfY2hlY2tQdXNoU3Vic2NyaXB0aW9uIiwic3Vic2NyaXB0aW9uIiwicHVzaE1hbmFnZXIiLCJnZXRTdWJzY3JpcHRpb24iLCJ1cGRhdGVTdWJzY3JpYmVCdXR0b24iLCJzdWJzY3JpYmVUb1B1c2hOb3RpZmljYXRpb25zIiwiX3N1YnNjcmliZVRvUHVzaE5vdGlmaWNhdGlvbnMiLCJfY2FsbGVlMiIsIl9jb250ZXh0MiIsInNob3dTdWJzY3JpYmVGZWVkYmFjayIsInVuc3Vic2NyaWJlRnJvbVB1c2hOb3RpZmljYXRpb25zIiwiX3Vuc3Vic2NyaWJlRnJvbVB1c2hOb3RpZmljYXRpb25zIiwiX2NhbGxlZTMiLCJfY29udGV4dDMiLCJpc1N1YnNjcmliaW5nIiwic3Vic2NyaWJlQnV0dG9uIiwibGFiZWwiLCJpc1N1YnNjcmliZWQiLCJvblN1YnNjcmliZUJ1dHRvbkNsaWNrIiwidGVzdFB1c2hCdXR0b24iLCJvblRlc3RQdXNoQnV0dG9uQ2xpY2siLCJjaGVja0N1cnJlbnRTdWJzY3JpcHRpb25BbmRUb2dnbGUiLCJfY2hlY2tDdXJyZW50U3Vic2NyaXB0aW9uQW5kVG9nZ2xlIiwiX2NhbGxlZTQiLCJfY29udGV4dDQiLCJnZXRTdWJzY3JpcHRpb25TdGF0dXMiLCJzaG93VGVzdFB1c2hOb3RpZmljYXRpb24iLCJzaG93VGVzdEJ1dHRvbkZlZWRiYWNrIiwiX3RoaXMkdGVzdFB1c2hCdXR0b24kIiwib3JpZ2luYWxUZXh0IiwiTm90aWZpY2F0aW9uIiwicGVybWlzc2lvbiIsImNyZWF0ZVRlc3ROb3RpZmljYXRpb24iLCJyZXF1ZXN0UGVybWlzc2lvbiIsInRoZW4iLCJub3RpZmljYXRpb24iLCJib2R5IiwiaWNvbiIsImJhZGdlIiwidGFnIiwicmVxdWlyZUludGVyYWN0aW9uIiwic2lsZW50IiwiZGF0YSIsInR5cGUiLCJ0aW1lc3RhbXAiLCJEYXRlIiwibm93Iiwib25jbGljayIsImV2ZW50IiwiY2xvc2UiLCJmb2N1cyIsInNob3dNdWx0aXBsZVRlc3ROb3RpZmljYXRpb25zIiwiY291bnQiLCJpIiwiX2dldFN1YnNjcmlwdGlvblN0YXR1cyIsIl9jYWxsZWU1IiwiX2NvbnRleHQ1IiwiaXNTZXJ2aWNlV29ya2VyUmVnaXN0ZXJlZCIsImlzUHVzaE5vdGlmaWNhdGlvblN1cHBvcnRlZCIsIm5hdmlnYXRvciIsInJlUmVnaXN0ZXJTZXJ2aWNlV29ya2VyIiwiX3JlUmVnaXN0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QUF3QnJGLE1BR25GQSxLQUFLc0YsZ0JBQ0x0RixLQUFLc0YsZUFBZXBFLEtBQUtvQyxJQUFJdkYsRUFBT29ELFVBQVVDLE1BQU9wQixLQUFLdUYsc0JBQXVCdkYsT0FFeEYvQixHQWpVOEJzRixJQUFTMUQsNkJBQUEvQixJQUFBMEYsZ0JBQUFDLGNBQUFDLFlBQUFDLHVCQUFBLE9BQ0ksUUFBSXJFLEVBQUFoQixFQUFBQyxFQUFBc0IsNEJBQUE3QixJQUFBd0YsZ0JBQUFDLGNBQUFDLFlBQUFDLHVCQUFBLE9BQ0wsUUFBMUJDLEVBQThCckYsS0FBQXFGLE1BZ1VsREMsSUFBQUMiLCJmaWxlIjoiYWxsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX2RlY29yYXRvciwgQnV0dG9uLCBDb21wb25lbnQsIExhYmVsLCBzY3JlZW4sIHN5cyB9IGZyb20gJ2NjJztcclxuaW1wb3J0IHsgU2VydmljZVdvcmtlciB9IGZyb20gJy4vU2VydmljZVdvcmtlcic7XHJcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IF9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzcygnUFdBSW5zdGFsbGVyJylcclxuZXhwb3J0IGNsYXNzIFBXQUluc3RhbGxlciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBAcHJvcGVydHkoQnV0dG9uKSBpbnN0YWxsQnV0dG9uOiBCdXR0b24gPSBudWxsITtcclxuICAgIEBwcm9wZXJ0eShTZXJ2aWNlV29ya2VyKSBzZXJ2aWNlV29ya2VyOiBTZXJ2aWNlV29ya2VyID0gbnVsbCE7IC8vIFNlcnZpY2UgV29ya2VyIOy7tO2PrOuEjO2KuFxyXG4gICAgQHByb3BlcnR5KExhYmVsKSB2ZXJzaW9uTGFiZWw6IExhYmVsID0gbnVsbCE7XHJcbiAgICBAcHJvcGVydHkoTGFiZWwpIHN0YXR1c0xhYmVsOiBMYWJlbCA9IG51bGwhO1xyXG5cclxuICAgIHByaXZhdGUgZGVmZXJyZWRQcm9tcHQ6IGFueSA9IG51bGw7XHJcbiAgICBwcml2YXRlIGlzSW5zdGFsbGVkOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcblxyXG4gICAgICAgIC8vaW5kZXguZWpz7JeQ7IScIOyEpOygle2VnCBkZWZlcnJlZFByb21wdCDsgqzsmqlcclxuICAgICAgICB0aGlzLmRlZmVycmVkUHJvbXB0ID0gd2luZG93WydkZWZlcnJlZFByb21wdCddO1xyXG4gICAgICAgIHRoaXMuaXNJbnN0YWxsZWQgPSB3aW5kb3dbJ2lzSW5zdGFsbGVkJ107XHJcblxyXG5cclxuICAgICAgICB0aGlzLmNoZWNrUFdBSW5zdGFsbGF0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5zZXR1cEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVVSSgpO1xyXG4gICAgICAgIHRoaXMudmVyc2lvbkxhYmVsLnN0cmluZyA9ICd2MC4wLjEyJztcclxuXHJcbiAgICAgICAgLy8gU2VydmljZSBXb3JrZXLripQg67OE64+EIOy7tO2PrOuEjO2KuOyXkOyEnCDsspjrpqxcclxuXHJcblxyXG5cclxuICAgICAgICBzY3JlZW4ub24oXCJ3aW5kb3ctcmVzaXplXCIsICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ3aW5kb3ctcmVzaXplXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja1BXQUluc3RhbGxhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVVSSgpO1xyXG4gICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyBTZXJ2aWNlIFdvcmtlciDqtIDroKgg6riw64ql7J2AIFNlcnZpY2VXb3JrZXIudHPsl5DshJwg7LKY66asXHJcblxyXG4gICAgcHJpdmF0ZSBjaGVja1BXQUluc3RhbGxhdGlvbigpIHtcclxuICAgICAgICAvLyBQV0HqsIAg7J2066+4IOyEpOy5mOuQmOyWtCDsnojripTsp4Ag7ZmV7J24XHJcbiAgICAgICAgaWYgKHN5cy5pc0Jyb3dzZXIpIHtcclxuICAgICAgICAgICAgLy8gUFdBIOyEpOy5mCDsg4Htg5wg7ZmV7J24XHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cubWF0Y2hNZWRpYSgnKGRpc3BsYXktbW9kZTogc3RhbmRhbG9uZSknKS5tYXRjaGVzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzSW5zdGFsbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2lzSW5zdGFsbGVkJywgdGhpcy5pc0luc3RhbGxlZCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfruIzrnbzsmrDsoIAg7ZmY6rK9OicsIHN5cy5pc0Jyb3dzZXIpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZGlzcGxheS1tb2RlIHN0YW5kYWxvbmU6Jywgd2luZG93Lm1hdGNoTWVkaWEoJyhkaXNwbGF5LW1vZGU6IHN0YW5kYWxvbmUpJykubWF0Y2hlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0dXBFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICBpZiAodGhpcy5pbnN0YWxsQnV0dG9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFsbEJ1dHRvbi5ub2RlLm9uKEJ1dHRvbi5FdmVudFR5cGUuQ0xJQ0ssIHRoaXMub25JbnN0YWxsQnV0dG9uQ2xpY2ssIHRoaXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2VydmljZSBXb3JrZXIg7J2067Kk7Yq464qUIFNlcnZpY2VXb3JrZXIudHPsl5DshJwg7LKY66asXHJcblxyXG4gICAgICAgIC8vIGJlZm9yZWluc3RhbGxwcm9tcHQg7J2067Kk7Yq4IOumrOyKpOuEiCBcclxuICAgICAgICAvLyBiZWZvcmVpbnN0YWxscHJvbXB0IOydtOuypO2KuOuKlCDtjpjsnbTsp4Ag66Gc65OcIOyLnOygkOyXkCDsnbTrr7gg67Cc7IOd7ZaI7J2EIOyImCDsnojripTrjbAsIOyasOumrOqwgCDsnbTrsqTtirgg66as7Iqk64SI66W8IOuTseuhne2VmOq4sCDsoITsl5Ag64aT7LOQ67KE66awIOqxsOyjoCFcclxuICAgICAgICAvL+uYkO2VnCDrqqjri6wg7Yyd7JeF7JeQ7IScIOy3qOyGjOyLnCDsnbTrsqTtirjrpbwg7J207Kq97JeQ7IScIOy6oeyzkO2VtOyEnCDri6Tsi5wg7ISk7LmYIOqwgOuKpe2VmOqyjOuBlCDtlbTspIDri6RcclxuXHJcbiAgICAgICAgaWYgKHN5cy5pc0Jyb3dzZXIpIHtcclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZWluc3RhbGxwcm9tcHQnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWZlcnJlZFByb21wdCA9IGU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVVJKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gYXBwaW5zdGFsbGVkIOydtOuypO2KuCDrpqzsiqTrhIhcclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2FwcGluc3RhbGxlZCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNJbnN0YWxsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVVSSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BXQeqwgCDshLHqs7XsoIHsnLzroZwg7ISk7LmY65CY7JeI7Iq164uI64ukIScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbkluc3RhbGxCdXR0b25DbGljaygpIHtcclxuICAgICAgICBpZiAodGhpcy5kZWZlcnJlZFByb21wdCkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dJbnN0YWxsUHJvbXB0KCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzSW5zdGFsbGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0FscmVhZHlJbnN0YWxsZWRNZXNzYWdlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93SW5zdGFsbEluc3RydWN0aW9ucygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDtkbjsi5wg6rWs64+FIOq0gOugqCDquLDriqXsnYAgU2VydmljZVdvcmtlci50c+yXkOyEnCDsspjrpqxcclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIHNob3dJbnN0YWxsUHJvbXB0KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5kZWZlcnJlZFByb21wdCkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyDshKTsuZgg7ZSE66Gs7ZSE7Yq4IO2RnOyLnFxyXG4gICAgICAgICAgICB0aGlzLmRlZmVycmVkUHJvbXB0LnByb21wdCgpO1xyXG5cclxuICAgICAgICAgICAgLy8g7IKs7Jqp7J6Q7J2YIOydkeuLtSDrjIDquLBcclxuICAgICAgICAgICAgY29uc3QgeyBvdXRjb21lIH0gPSBhd2FpdCB0aGlzLmRlZmVycmVkUHJvbXB0LnVzZXJDaG9pY2U7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnb3V0Y29tZScsIG91dGNvbWUsIHRoaXMuZGVmZXJyZWRQcm9tcHQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG91dGNvbWUgPT09ICdhY2NlcHRlZCcpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfsgqzsmqnsnpDqsIAgUFdBIOyEpOy5mOulvCDsiJjrnb3tlojsirXri4jri6QnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzTGFiZWwuc3RyaW5nID0gJ+yEpOy5mCDspJEuLi4nO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIOyEpOy5mCDsiJjrnb0g7Iuc7JeQ66eMIO2UhOuhrO2UhO2KuCDstIjquLDtmZRcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVmZXJyZWRQcm9tcHQgPSBudWxsO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+yCrOyaqeyekOqwgCBQV0Eg7ISk7LmY66W8IOqxsOu2gO2WiOyKteuLiOuLpCcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0dXNMYWJlbC5zdHJpbmcgPSAn7ISk7LmY6rCAIOy3qOyGjOuQmOyXiOyKteuLiOuLpCc7XHJcbiAgICAgICAgICAgICAgICAvKiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDshKTsuZgg7Leo7IaMIOyLnOyXkOuKlCDtlITroaztlITtirgg7Jyg7KeAICjri6Tsi5wg7ISk7LmYIOqwgOuKpSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn7IKs7Jqp7J6Q6rCAIOy3qOyGjO2WiOyngOunjCDri6Tsi5wg7ISk7LmY7ZWgIOyImCDsnojsirXri4jri6QnKTsgKi9cclxuXHJcbiAgICAgICAgICAgICAgICAvL+2VnOuyiCDrrLzslrTrtJDshJwg7Leo7IaM7ZWY66m0IOuLpOyLnCDrsoTtirwg7YG066at7IucIHByb21wdOqwgCDslYjrkJzri6Q7OztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy51cGRhdGVVSSgpO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdQV0Eg7ISk7LmYIOykkSDsmKTrpZgg67Cc7IOdOicsIGVycm9yKTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0dXNMYWJlbC5zdHJpbmcgPSAn7ISk7LmYIOykkSDsmKTrpZjqsIAg67Cc7IOd7ZaI7Iq164uI64ukJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzaG93QWxyZWFkeUluc3RhbGxlZE1lc3NhZ2UoKSB7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNMYWJlbC5zdHJpbmcgPSAnUFdB6rCAIOydtOuvuCDshKTsuZjrkJjslrQg7J6I7Iq164uI64ukISc7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVUkoKTtcclxuICAgICAgICB9LCAyMDAwKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNob3dJbnN0YWxsSW5zdHJ1Y3Rpb25zKCkge1xyXG4gICAgICAgIHRoaXMuc3RhdHVzTGFiZWwuc3RyaW5nID0gJ+u4jOudvOyasOyggOyXkOyEnCDshKTsuZgg7Ji17IWY7J2EIOywvuyVhOyjvOyEuOyalCc7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVUkoKTtcclxuICAgICAgICB9LCAzMDAwKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZVVJKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pbnN0YWxsQnV0dG9uIHx8ICF0aGlzLnN0YXR1c0xhYmVsKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzSW5zdGFsbGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFsbEJ1dHRvbi5pbnRlcmFjdGFibGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YWxsQnV0dG9uLm5vZGUuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihMYWJlbCkhLnN0cmluZyA9ICfsnbTrr7gg7ISk7LmY65CoJztcclxuICAgICAgICAgICAgdGhpcy5zdGF0dXNMYWJlbC5zdHJpbmcgPSAnUFdB6rCAIOyEpOy5mOuQmOyWtCDsnojsirXri4jri6QnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5kZWZlcnJlZFByb21wdCkge1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbGxCdXR0b24uaW50ZXJhY3RhYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YWxsQnV0dG9uLm5vZGUuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihMYWJlbCkhLnN0cmluZyA9ICdQV0Eg7ISk7LmYJztcclxuICAgICAgICAgICAgdGhpcy5zdGF0dXNMYWJlbC5zdHJpbmcgPSAn7ISk7LmY7ZWgIOykgOu5hOqwgCDrkJjsl4jsirXri4jri6QnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFsbEJ1dHRvbi5pbnRlcmFjdGFibGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YWxsQnV0dG9uLm5vZGUuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihMYWJlbCkhLnN0cmluZyA9ICfshKTsuZgg67aI6rCAJztcclxuICAgICAgICAgICAgdGhpcy5zdGF0dXNMYWJlbC5zdHJpbmcgPSAn7J2066+4IOyEpOy5mOuQmOyWtOyeiOqxsOuCmCDshKTsuZgg7ZWg7IiYIOyXhuyKteuLiOuLpCc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFBXQSDshKTsuZgg6rCA64qlIOyXrOu2gCDtmZXsnbhcclxuICAgIHB1YmxpYyBpc1BXQUluc3RhbGxhYmxlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRlZmVycmVkUHJvbXB0ICE9PSBudWxsICYmICF0aGlzLmlzSW5zdGFsbGVkO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOyImOuPmeycvOuhnCDshKTsuZgg7IOB7YOcIO2ZleyduCAo7Jm467aA7JeQ7IScIO2YuOy2nCDqsIDriqUpXHJcbiAgICBwdWJsaWMgcmVmcmVzaEluc3RhbGxhdGlvblN0YXR1cygpIHtcclxuICAgICAgICB0aGlzLmNoZWNrUFdBSW5zdGFsbGF0aW9uKCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVVSSgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRGVzdHJveSgpIHtcclxuICAgICAgICBpZiAodGhpcy5pbnN0YWxsQnV0dG9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFsbEJ1dHRvbi5ub2RlLm9mZihCdXR0b24uRXZlbnRUeXBlLkNMSUNLLCB0aGlzLm9uSW5zdGFsbEJ1dHRvbkNsaWNrLCB0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNlcnZpY2UgV29ya2VyIOydtOuypO2KuOuKlCBTZXJ2aWNlV29ya2VyLnRz7JeQ7IScIOyymOumrFxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuIiwiaW1wb3J0IHsgX2RlY29yYXRvciwgQnV0dG9uLCBDb21wb25lbnQsIExhYmVsIH0gZnJvbSAnY2MnO1xyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBfZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3MoJ1NlcnZpY2VXb3JrZXInKVxyXG5leHBvcnQgY2xhc3MgU2VydmljZVdvcmtlciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBAcHJvcGVydHkoQnV0dG9uKSBzdWJzY3JpYmVCdXR0b246IEJ1dHRvbiA9IG51bGwhOyAvLyDtkbjsi5wg6rWs64+FIOuyhO2KvFxyXG4gICAgQHByb3BlcnR5KEJ1dHRvbikgdGVzdFB1c2hCdXR0b246IEJ1dHRvbiA9IG51bGwhOyAvLyDthYzsiqTtirgg7ZG47IucIOyghOyaqSDrsoTtirxcclxuXHJcbiAgICBwcml2YXRlIHJlZ2lzdHJhdGlvbjogU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiB8IG51bGwgPSBudWxsO1xyXG5cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJTZXJ2aWNlV29ya2VyKCk7XHJcbiAgICAgICAgdGhpcy5zZXR1cEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBpbmRleC5odG1s7JeQ7IScIOuvuOumrCDrk7HroZ3tlbTspJjslbwgY2FzaHN0b3JhZ2XqsIAg7IKs7JqpIOqwgOuKpe2VmOuLpFxyXG4gICAgICogU2VydmljZSBXb3JrZXIg65Ox66GdXHJcbiAgICAgKiBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSByZWdpc3RlclNlcnZpY2VXb3JrZXIoKSB7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RyYXRpb24gPSB3aW5kb3dbJ3JlZ2lzdHJhdGlvbiddO1xyXG4gICAgICAgIHRoaXMuY2hlY2tQdXNoTm90aWZpY2F0aW9uU3VwcG9ydCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog7ZG47IucIOyVjOumvCDsp4Dsm5Ag7Jes67aAIO2ZleyduFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGNoZWNrUHVzaE5vdGlmaWNhdGlvblN1cHBvcnQoKSB7XHJcbiAgICAgICAgaWYgKCdQdXNoTWFuYWdlcicgaW4gd2luZG93KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUg7ZG47IucIOyVjOumvCDsp4Dsm5DrkKgnKTtcclxuICAgICAgICAgICAgdGhpcy5jaGVja1B1c2hTdWJzY3JpcHRpb24oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4p2MIO2RuOyLnCDslYzrprwg7KeA7JuQ65CY7KeAIOyViuydjCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIO2YhOyerCDtkbjsi5wg6rWs64+FIOyDge2DnCDtmZXsnbhcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBhc3luYyBjaGVja1B1c2hTdWJzY3JpcHRpb24oKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnJlZ2lzdHJhdGlvbikgcmV0dXJuO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBhd2FpdCB0aGlzLnJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5nZXRTdWJzY3JpcHRpb24oKTtcclxuICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSDsnbTrr7gg7ZG47IucIOq1rOuPheuQqDonLCBzdWJzY3JpcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdWJzY3JpYmVCdXR0b24odHJ1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4o+zIO2RuOyLnCDqtazrj4Ug7ZWE7JqUJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN1YnNjcmliZUJ1dHRvbihmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4p2MIO2RuOyLnCDqtazrj4Ug7IOB7YOcIO2ZleyduCDsi6TtjKg6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIO2RuOyLnCDslYzrprwg6rWs64+FICjthYzsiqTtirjsmqkgLSDshJzrsoQg7Jew64+ZIOyXhuydjClcclxuICAgICAqL1xyXG4gICAgcHVibGljIGFzeW5jIHN1YnNjcmliZVRvUHVzaE5vdGlmaWNhdGlvbnMoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/CflJQg7YWM7Iqk7Yq4IO2RuOyLnCDslYzrprwg6rWs64+FJyk7XHJcblxyXG4gICAgICAgIC8vIOq1rOuPhSDshLHqs7Ug7IucIOyLnOqwgeyggSDtlLzrk5zrsLFcclxuICAgICAgICB0aGlzLnNob3dTdWJzY3JpYmVGZWVkYmFjayh0cnVlKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVN1YnNjcmliZUJ1dHRvbih0cnVlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDtkbjsi5wg7JWM66a8IOq1rOuPhSDtlbTsoJwgKO2FjOyKpO2KuOyaqSlcclxuICAgICAqL1xyXG4gICAgcHVibGljIGFzeW5jIHVuc3Vic2NyaWJlRnJvbVB1c2hOb3RpZmljYXRpb25zKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SUIO2FjOyKpO2KuCDtkbjsi5wg7JWM66a8IOq1rOuPhSDtlbTsoJwnKTtcclxuXHJcbiAgICAgICAgLy8g6rWs64+FIO2VtOygnCDsi5wg7Iuc6rCB7KCBIO2UvOuTnOuwsVxyXG4gICAgICAgIHRoaXMuc2hvd1N1YnNjcmliZUZlZWRiYWNrKGZhbHNlKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVN1YnNjcmliZUJ1dHRvbihmYWxzZSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6rWs64+FL+2VtOygnCDsi5wg7Iuc6rCB7KCBIO2UvOuTnOuwsSDtkZzsi5xcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzaG93U3Vic2NyaWJlRmVlZGJhY2soaXNTdWJzY3JpYmluZzogYm9vbGVhbikge1xyXG4gICAgICAgIGlmICh0aGlzLnN1YnNjcmliZUJ1dHRvbikge1xyXG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IHRoaXMuc3Vic2NyaWJlQnV0dG9uLm5vZGUuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihMYWJlbCk7XHJcbiAgICAgICAgICAgIGlmIChsYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxUZXh0ID0gbGFiZWwuc3RyaW5nO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIOyeoOyLnCDtlLzrk5zrsLEg7YWN7Iqk7Yq4IO2RnOyLnFxyXG4gICAgICAgICAgICAgICAgaWYgKGlzU3Vic2NyaWJpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5zdHJpbmcgPSAn6rWs64+F65CoISc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLnN0cmluZyA9ICftlbTsoJzrkKghJztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvKiAgICAgICAvLyAxLjXstIgg7ZuEIOybkOuemCDthY3siqTtirjroZwg67O17JuQXHJcbiAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbC5zdHJpbmcgPSBvcmlnaW5hbFRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9LCAxNTAwKTsgKi9cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOq1rOuPhSDrsoTtirwgVUkg7JeF642w7J207Yq4XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgdXBkYXRlU3Vic2NyaWJlQnV0dG9uKGlzU3Vic2NyaWJlZDogYm9vbGVhbikge1xyXG4gICAgICAgIGlmICh0aGlzLnN1YnNjcmliZUJ1dHRvbikge1xyXG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IHRoaXMuc3Vic2NyaWJlQnV0dG9uLm5vZGUuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihMYWJlbCk7XHJcbiAgICAgICAgICAgIGlmIChsYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzU3Vic2NyaWJlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLnN0cmluZyA9ICftkbjsi5wg7ZW07KCcJztcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIOq1rOuPhSDsmYTro4w6IOuyhO2KvOydtCBcIu2RuOyLnCDtlbTsoJxcIuuhnCDrs4Dqsr3rkKgnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwuc3RyaW5nID0gJ+2RuOyLnCDqtazrj4UnO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUg6rWs64+FIO2VtOygnCDsmYTro4w6IOuyhO2KvOydtCBcIu2RuOyLnCDqtazrj4VcIuycvOuhnCDrs4Dqsr3rkKgnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnN1YnNjcmliZUJ1dHRvbi5pbnRlcmFjdGFibGUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOydtOuypO2KuCDrpqzsiqTrhIgg7ISk7KCVXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc2V0dXBFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICBpZiAodGhpcy5zdWJzY3JpYmVCdXR0b24pIHtcclxuICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmVCdXR0b24ubm9kZS5vbihCdXR0b24uRXZlbnRUeXBlLkNMSUNLLCB0aGlzLm9uU3Vic2NyaWJlQnV0dG9uQ2xpY2ssIHRoaXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMudGVzdFB1c2hCdXR0b24pIHtcclxuICAgICAgICAgICAgdGhpcy50ZXN0UHVzaEJ1dHRvbi5ub2RlLm9uKEJ1dHRvbi5FdmVudFR5cGUuQ0xJQ0ssIHRoaXMub25UZXN0UHVzaEJ1dHRvbkNsaWNrLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDqtazrj4Ug67KE7Yq8IO2BtOumrSDsnbTrsqTtirgg7LKY66asXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25TdWJzY3JpYmVCdXR0b25DbGljaygpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+UlCDqtazrj4Ug67KE7Yq8IO2BtOumreuQqCcpO1xyXG5cclxuICAgICAgICAvLyDtmITsnqwg6rWs64+FIOyDge2DnCDtmZXsnbhcclxuICAgICAgICB0aGlzLmNoZWNrQ3VycmVudFN1YnNjcmlwdGlvbkFuZFRvZ2dsZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog7ZiE7J6sIOq1rOuPhSDsg4Htg5zrpbwg7ZmV7J247ZWY6rOgIO2GoOq4gFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGFzeW5jIGNoZWNrQ3VycmVudFN1YnNjcmlwdGlvbkFuZFRvZ2dsZSgpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyDtmITsnqwg6rWs64+FIOyDge2DnCDtmZXsnbhcclxuICAgICAgICAgICAgY29uc3QgaXNDdXJyZW50bHlTdWJzY3JpYmVkID0gYXdhaXQgdGhpcy5nZXRTdWJzY3JpcHRpb25TdGF0dXMoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpc0N1cnJlbnRseVN1YnNjcmliZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIOydtOuvuCDqtazrj4XrkJwg6rK97JqwIOKGkiDtlbTsoJxcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIOq1rOuPhSDtlbTsoJwg7KSRLi4uJyk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnVuc3Vic2NyaWJlRnJvbVB1c2hOb3RpZmljYXRpb25zKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyDqtazrj4XrkJjsp4Ag7JWK7J2AIOqyveyasCDihpIg6rWs64+FXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCDqtazrj4Ug7KSRLi4uJyk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnN1YnNjcmliZVRvUHVzaE5vdGlmaWNhdGlvbnMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDqtazrj4Ug7IOB7YOcIO2GoOq4gCDsi6TtjKg6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIO2FjOyKpO2KuCDtkbjsi5wg67KE7Yq8IO2BtOumrSDsnbTrsqTtirgg7LKY66asXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgb25UZXN0UHVzaEJ1dHRvbkNsaWNrKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn6eqIO2FjOyKpO2KuCDtkbjsi5wg67KE7Yq8IO2BtOumreuQqCcpO1xyXG5cclxuICAgICAgICAvLyDsponsi5wg7YWM7Iqk7Yq4IO2RuOyLnCDsoITshqFcclxuICAgICAgICB0aGlzLnNob3dUZXN0UHVzaE5vdGlmaWNhdGlvbigpO1xyXG5cclxuICAgICAgICAvLyDrsoTtirzsl5Ag7ZS865Oc67CxIO2RnOyLnCAo7ISg7YOd7IKs7ZWtKVxyXG4gICAgICAgIHRoaXMuc2hvd1Rlc3RCdXR0b25GZWVkYmFjaygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog7YWM7Iqk7Yq4IOuyhO2KvCDtlLzrk5zrsLEg7ZGc7IucXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc2hvd1Rlc3RCdXR0b25GZWVkYmFjaygpIHtcclxuICAgICAgICBpZiAodGhpcy50ZXN0UHVzaEJ1dHRvbikge1xyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbFRleHQgPSB0aGlzLnRlc3RQdXNoQnV0dG9uLm5vZGUuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihMYWJlbCk/LnN0cmluZyB8fCAn7YWM7Iqk7Yq4IO2RuOyLnCc7XHJcblxyXG4gICAgICAgICAgICAvLyDrsoTtirwg7YWN7Iqk7Yq466W8IOyeoOyLnCDrs4Dqsr1cclxuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSB0aGlzLnRlc3RQdXNoQnV0dG9uLm5vZGUuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihMYWJlbCk7XHJcbiAgICAgICAgICAgIGlmIChsYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgbGFiZWwuc3RyaW5nID0gJ+yghOyGoeuQqCEnO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIDLstIgg7ZuEIOybkOuemCDthY3siqTtirjroZwg67O17JuQXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5zdHJpbmcgPSBvcmlnaW5hbFRleHQ7XHJcbiAgICAgICAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIO2FjOyKpO2KuOyaqSDtkbjsi5wg7JWM66a8IO2RnOyLnCAo7ISc67KEIOyXsOuPmSDsl4bsnYwpXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzaG93VGVzdFB1c2hOb3RpZmljYXRpb24oKSB7XHJcbiAgICAgICAgaWYgKCEoJ05vdGlmaWNhdGlvbicgaW4gd2luZG93KSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4p2MIOydtCDruIzrnbzsmrDsoIDripQg7JWM66a87J2EIOyngOybkO2VmOyngCDslYrsirXri4jri6QnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09PSAnZ3JhbnRlZCcpIHtcclxuICAgICAgICAgICAgLy8g6raM7ZWc7J20IOydtOuvuCDtl4jsmqnrkJwg6rK97JqwXHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlVGVzdE5vdGlmaWNhdGlvbigpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gIT09ICdkZW5pZWQnKSB7XHJcbiAgICAgICAgICAgIC8vIOq2jO2VnCDsmpTssq1cclxuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKCkudGhlbihwZXJtaXNzaW9uID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChwZXJtaXNzaW9uID09PSAnZ3JhbnRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVRlc3ROb3RpZmljYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KdjCDslYzrprwg6raM7ZWc7J20IOqxsOu2gOuQqCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4p2MIOyVjOumvCDqtoztlZzsnbQg6rGw67aA65CoJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog7YWM7Iqk7Yq4IOyVjOumvCDsg53shLFcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjcmVhdGVUZXN0Tm90aWZpY2F0aW9uKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SUIO2FjOyKpO2KuCDslYzrprwg7IOd7ISxJyk7XHJcbiAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9uID0gbmV3IE5vdGlmaWNhdGlvbign8J+agCBQV0Eg7YWM7Iqk7Yq4IOyVjOumvCEnLCB7XHJcbiAgICAgICAgICAgIGJvZHk6ICfshJzrsoQg7Jew64+ZIOyXhuydtCDroZzsu6zsl5DshJwg7ZG47IucIOyVjOumvOydtCDsnpHrj5ntlanri4jri6QhJyxcclxuICAgICAgICAgICAgaWNvbjogJy9wd2Fjb2Nvcy9pY29uLnBuZycsXHJcbiAgICAgICAgICAgIGJhZGdlOiAnL3B3YWNvY29zL2ljb24ucG5nJyxcclxuICAgICAgICAgICAgdGFnOiAndGVzdC1ub3RpZmljYXRpb24nLFxyXG4gICAgICAgICAgICByZXF1aXJlSW50ZXJhY3Rpb246IGZhbHNlLFxyXG4gICAgICAgICAgICBzaWxlbnQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAndGVzdCcsXHJcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyDslYzrprwg7YG066atIOydtOuypO2KuFxyXG4gICAgICAgIG5vdGlmaWNhdGlvbi5vbmNsaWNrID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SUIO2FjOyKpO2KuCDslYzrprwg7YG066at65CoOicsIGV2ZW50KTtcclxuICAgICAgICAgICAgbm90aWZpY2F0aW9uLmNsb3NlKCk7XHJcblxyXG4gICAgICAgICAgICAvLyDslbEg7Y+s7Luk7IqkIOuYkOuKlCDsg4gg7LC9IOyXtOq4sFxyXG4gICAgICAgICAgICBpZiAod2luZG93LmZvY3VzKSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuZm9jdXMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIDXstIgg7ZuEIOyekOuPmeycvOuhnCDslYzrprwg64ur6riwXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbi5jbG9zZSgpO1xyXG4gICAgICAgIH0sIDUwMDApO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygn4pyFIO2FjOyKpO2KuCDtkbjsi5wg7JWM66a8IOyghOyGoeuQqCcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog7Jes65+sIOqwnOydmCDthYzsiqTtirgg7JWM66a8IOyghOyGoSAo7YWM7Iqk7Yq47JqpKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2hvd011bHRpcGxlVGVzdE5vdGlmaWNhdGlvbnMoY291bnQ6IG51bWJlciA9IDMpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVRlc3ROb3RpZmljYXRpb24oKTtcclxuICAgICAgICAgICAgfSwgaSAqIDEwMDApOyAvLyAx7LSIIOqwhOqyqeycvOuhnCDsoITshqFcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDtmITsnqwg6rWs64+FIOyDge2DnCDrsJjtmZhcclxuICAgICAqL1xyXG4gICAgcHVibGljIGFzeW5jIGdldFN1YnNjcmlwdGlvblN0YXR1cygpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgICAgICBpZiAoIXRoaXMucmVnaXN0cmF0aW9uKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IGF3YWl0IHRoaXMucmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLmdldFN1YnNjcmlwdGlvbigpO1xyXG4gICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uICE9PSBudWxsO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfqtazrj4Ug7IOB7YOcIO2ZleyduCDsi6TtjKg6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2VydmljZSBXb3JrZXIg65Ox66GdIOyDge2DnCDrsJjtmZhcclxuICAgICAqL1xyXG4gICAgcHVibGljIGlzU2VydmljZVdvcmtlclJlZ2lzdGVyZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVnaXN0cmF0aW9uICE9PSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog7ZG47IucIOyVjOumvCDsp4Dsm5Ag7Jes67aAIOuwmO2ZmFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaXNQdXNoTm90aWZpY2F0aW9uU3VwcG9ydGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiAnUHVzaE1hbmFnZXInIGluIHdpbmRvdyAmJiAnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog7IiY64+Z7Jy866GcIFNlcnZpY2UgV29ya2VyIOyerOuTseuhnVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYXN5bmMgcmVSZWdpc3RlclNlcnZpY2VXb3JrZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVnaXN0cmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucmVnaXN0cmF0aW9uLnVucmVnaXN0ZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlclNlcnZpY2VXb3JrZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkRlc3Ryb3koKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3Vic2NyaWJlQnV0dG9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlQnV0dG9uLm5vZGUub2ZmKEJ1dHRvbi5FdmVudFR5cGUuQ0xJQ0ssIHRoaXMub25TdWJzY3JpYmVCdXR0b25DbGljaywgdGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy50ZXN0UHVzaEJ1dHRvbikge1xyXG4gICAgICAgICAgICB0aGlzLnRlc3RQdXNoQnV0dG9uLm5vZGUub2ZmKEJ1dHRvbi5FdmVudFR5cGUuQ0xJQ0ssIHRoaXMub25UZXN0UHVzaEJ1dHRvbkNsaWNrLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl19