System.register("chunks:///_virtual/main",["./PWAInstaller.ts","./ServiceWorker.ts"],(function(){return{setters:[null,null],execute:function(){}}}));

System.register("chunks:///_virtual/PWAInstaller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ServiceWorker.ts"],(function(t){var e,n,s,i,r,o,l,a,u,c,d,h,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,s=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){l=t.cclegacy,a=t._decorator,u=t.Button,c=t.Label,d=t.screen,h=t.sys,p=t.Component},function(t){f=t.ServiceWorker}],execute:function(){var I,m,b,g,P,w,v,y,L,B,W;l._RF.push({},"72048sXgK5KG4XP/f3z1DCG","PWAInstaller",void 0);var A=a.ccclass,C=a.property;t("PWAInstaller",(I=A("PWAInstaller"),m=C(u),b=C(f),g=C(c),P=C(c),I((y=e((v=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,s(e,"installButton",y,i(e)),s(e,"serviceWorker",L,i(e)),s(e,"versionLabel",B,i(e)),s(e,"statusLabel",W,i(e)),e.deferredPrompt=null,e.isInstalled=!1,e}n(e,t);var l=e.prototype;return l.start=function(){var t=this;this.deferredPrompt=window.deferredPrompt,this.isInstalled=window.isInstalled,this.checkPWAInstallation(),this.setupEventListeners(),this.updateUI(),this.versionLabel.string="v0.0.13",d.on("window-resize",(function(){setTimeout((function(){console.log("window-resize"),t.checkPWAInstallation(),t.updateUI()}),100)}),this)},l.checkPWAInstallation=function(){h.isBrowser&&(window.matchMedia("(display-mode: standalone)").matches&&(this.isInstalled=!0),console.log("isInstalled",this.isInstalled),console.log("브라우저 환경:",h.isBrowser),console.log("display-mode standalone:",window.matchMedia("(display-mode: standalone)").matches))},l.setupEventListeners=function(){var t=this;this.installButton&&this.installButton.node.on(u.EventType.CLICK,this.onInstallButtonClick,this),h.isBrowser&&(window.addEventListener("beforeinstallprompt",(function(e){e.preventDefault(),t.deferredPrompt=e,t.updateUI()})),window.addEventListener("appinstalled",(function(){t.isInstalled=!0,t.updateUI(),console.log("PWA가 성공적으로 설치되었습니다!")})))},l.onInstallButtonClick=function(){this.deferredPrompt?this.showInstallPrompt():this.isInstalled?this.showAlreadyInstalledMessage():this.showInstallInstructions()},l.showInstallPrompt=function(){var t=r(o().mark((function t(){var e,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.deferredPrompt){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,this.deferredPrompt.prompt(),t.next=6,this.deferredPrompt.userChoice;case 6:e=t.sent,n=e.outcome,console.log("outcome",n,this.deferredPrompt),"accepted"===n?(console.log("사용자가 PWA 설치를 수락했습니다"),this.statusLabel.string="설치 중...",this.deferredPrompt=null):(console.log("사용자가 PWA 설치를 거부했습니다"),this.statusLabel.string="설치가 취소되었습니다"),this.updateUI(),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(2),console.error("PWA 설치 중 오류 발생:",t.t0),this.statusLabel.string="설치 중 오류가 발생했습니다";case 17:case"end":return t.stop()}}),t,this,[[2,13]])})));return function(){return t.apply(this,arguments)}}(),l.showAlreadyInstalledMessage=function(){var t=this;this.statusLabel.string="PWA가 이미 설치되어 있습니다!",setTimeout((function(){t.updateUI()}),2e3)},l.showInstallInstructions=function(){var t=this;this.statusLabel.string="브라우저에서 설치 옵션을 찾아주세요",setTimeout((function(){t.updateUI()}),3e3)},l.updateUI=function(){this.installButton&&this.statusLabel&&(this.isInstalled?(this.installButton.interactable=!1,this.installButton.node.getComponentInChildren(c).string="이미 설치됨",this.statusLabel.string="PWA가 설치되어 있습니다"):this.deferredPrompt?(this.installButton.interactable=!0,this.installButton.node.getComponentInChildren(c).string="PWA 설치",this.statusLabel.string="설치할 준비가 되었습니다"):(this.installButton.interactable=!1,this.installButton.node.getComponentInChildren(c).string="설치 불가",this.statusLabel.string="이미 설치되어있거나 설치 할수 없습니다"))},l.isPWAInstallable=function(){return null!==this.deferredPrompt&&!this.isInstalled},l.refreshInstallationStatus=function(){this.checkPWAInstallation(),this.updateUI()},l.onDestroy=function(){this.installButton&&this.installButton.node.off(u.EventType.CLICK,this.onInstallButtonClick,this)},e}(p)).prototype,"installButton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(v.prototype,"serviceWorker",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(v.prototype,"versionLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(v.prototype,"statusLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=v))||w));l._RF.pop()}}}));

System.register("chunks:///_virtual/ServiceWorker.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,r,o,s,u,c,a,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){u=t.cclegacy,c=t._decorator,a=t.Button,h=t.Label,p=t.Component}],execute:function(){var l,f,b,g,v,d,k;u._RF.push({},"95ee2quKp5OuoJ6boIZGaGc","ServiceWorker",void 0);var w=c.ccclass,B=c.property;t("ServiceWorker",(l=w("ServiceWorker"),f=B(a),b=B(a),l((d=e((v=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,i(e,"subscribeButton",d,r(e)),i(e,"testPushButton",k,r(e)),e.registration=null,e}n(e,t);var u=e.prototype;return u.start=function(){this.registerServiceWorker(),this.setupEventListeners()},u.registerServiceWorker=function(){this.registration=window.registration,this.checkPushNotificationSupport()},u.checkPushNotificationSupport=function(){"PushManager"in window?(console.log("✅ 푸시 알림 지원됨"),this.checkPushSubscription()):console.log("❌ 푸시 알림 지원되지 않음")},u.checkPushSubscription=function(){var t=o(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.registration){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,this.registration.pushManager.getSubscription();case 5:(e=t.sent)?(console.log("✅ 이미 푸시 구독됨:",e),this.updateSubscribeButton(!0)):(console.log("⏳ 푸시 구독 필요"),this.updateSubscribeButton(!1)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log("❌ 푸시 구독 상태 확인 실패:",t.t0);case 12:case"end":return t.stop()}}),t,this,[[2,9]])})));return function(){return t.apply(this,arguments)}}(),u.subscribeToPushNotifications=function(){var t=o(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("🔔 테스트 푸시 알림 구독"),this.showSubscribeFeedback(!0),this.updateSubscribeButton(!0),t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.unsubscribeFromPushNotifications=function(){var t=o(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("🔔 테스트 푸시 알림 구독 해제"),this.showSubscribeFeedback(!1),this.updateSubscribeButton(!1),t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.showSubscribeFeedback=function(t){if(this.subscribeButton){var e=this.subscribeButton.node.getComponentInChildren(h);if(e){e.string;e.string=t?"구독됨!":"해제됨!"}}},u.updateSubscribeButton=function(t){if(this.subscribeButton){var e=this.subscribeButton.node.getComponentInChildren(h);e&&(t?(e.string="푸시 해제",console.log('✅ 구독 완료: 버튼이 "푸시 해제"로 변경됨')):(e.string="푸시 구독",console.log('✅ 구독 해제 완료: 버튼이 "푸시 구독"으로 변경됨'))),this.subscribeButton.interactable=!0}},u.setupEventListeners=function(){this.subscribeButton&&this.subscribeButton.node.on(a.EventType.CLICK,this.onSubscribeButtonClick,this),this.testPushButton&&this.testPushButton.node.on(a.EventType.CLICK,this.onTestPushButtonClick,this)},u.onSubscribeButtonClick=function(){console.log("🔔 구독 버튼 클릭됨"),this.checkCurrentSubscriptionAndToggle()},u.checkCurrentSubscriptionAndToggle=function(){var t=o(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getSubscriptionStatus();case 3:if(!t.sent){t.next=10;break}return console.log("🔄 구독 해제 중..."),t.next=8,this.unsubscribeFromPushNotifications();case 8:t.next=13;break;case 10:return console.log("🔄 구독 중..."),t.next=13,this.subscribeToPushNotifications();case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.error("❌ 구독 상태 토글 실패:",t.t0);case 18:case"end":return t.stop()}}),t,this,[[0,15]])})));return function(){return t.apply(this,arguments)}}(),u.onTestPushButtonClick=function(){console.log("🧪 테스트 푸시 버튼 클릭됨"),this.showTestPushNotification(),this.showTestButtonFeedback()},u.showTestButtonFeedback=function(){if(this.testPushButton){var t,e=(null==(t=this.testPushButton.node.getComponentInChildren(h))?void 0:t.string)||"테스트 푸시",n=this.testPushButton.node.getComponentInChildren(h);n&&(n.string="전송됨!",setTimeout((function(){n.string=e}),2e3))}},u.showTestPushNotification=function(){var t=this;"Notification"in window?"granted"===Notification.permission?this.createTestNotification():"denied"!==Notification.permission?Notification.requestPermission().then((function(e){"granted"===e?t.createTestNotification():console.log("❌ 알림 권한이 거부됨")})):console.log("❌ 알림 권한이 거부됨"):console.log("❌ 이 브라우저는 알림을 지원하지 않습니다")},u.createTestNotification=function(){var t;console.log("🔔 테스트 알림 생성"),(t=this.registration.showNotification("🚀 PWA 테스트 알림!",{body:"서버 연동 없이 로컬에서 푸시 알림이 작동합니다!",icon:"/pwacocos/icon.png",badge:"/pwacocos/icon.png",tag:"test-notification",requireInteraction:!1,silent:!1,data:{type:"test",timestamp:Date.now()}})).onclick=function(e){console.log("🔔 테스트 알림 클릭됨:",e),t.close(),window.focus&&window.focus()},setTimeout((function(){t.close()}),5e3),console.log("✅ 테스트 푸시 알림 전송됨")},u.showMultipleTestNotifications=function(t){var e=this;void 0===t&&(t=3);for(var n=0;n<t;n++)setTimeout((function(){e.createTestNotification()}),1e3*n)},u.getSubscriptionStatus=function(){var t=o(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.registration){t.next=2;break}return t.abrupt("return",!1);case 2:return t.prev=2,t.next=5,this.registration.pushManager.getSubscription();case 5:return e=t.sent,t.abrupt("return",null!==e);case 9:return t.prev=9,t.t0=t.catch(2),console.log("구독 상태 확인 실패:",t.t0),t.abrupt("return",!1);case 13:case"end":return t.stop()}}),t,this,[[2,9]])})));return function(){return t.apply(this,arguments)}}(),u.isServiceWorkerRegistered=function(){return null!==this.registration},u.isPushNotificationSupported=function(){return"PushManager"in window&&"serviceWorker"in navigator},u.reRegisterServiceWorker=function(){var t=o(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.registration){t.next=3;break}return t.next=3,this.registration.unregister();case 3:this.registerServiceWorker();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.onDestroy=function(){this.subscribeButton&&this.subscribeButton.node.off(a.EventType.CLICK,this.onSubscribeButtonClick,this),this.testPushButton&&this.testPushButton.node.off(a.EventType.CLICK,this.onTestPushButtonClick,this)},e}(p)).prototype,"subscribeButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(v.prototype,"testPushButton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=v))||g));u._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2ZpbGU6L0Q6L2NvY29zVGVzdDNEL0V4cGVyaW1lbnQvcHdhY29jb3NfY2xpZW50L2Fzc2V0cy9maWxlOi9EOi9jb2Nvc1Rlc3QzRC9FeHBlcmltZW50L3B3YWNvY29zX2NsaWVudC9hc3NldHMvUFdBSW5zdGFsbGVyLnRzIiwiLi4vZmlsZTovRDovY29jb3NUZXN0M0QvRXhwZXJpbWVudC9wd2Fjb2Nvc19jbGllbnQvYXNzZXRzL2ZpbGU6L0Q6L2NvY29zVGVzdDNEL0V4cGVyaW1lbnQvcHdhY29jb3NfY2xpZW50L2Fzc2V0cy9TZXJ2aWNlV29ya2VyLnRzIl0sIm5hbWVzIjpbImNjY2xhc3MiLCJfZGVjb3JhdG9yIiwicHJvcGVydHkiLCJfZGVjIiwiX2RlYzIiLCJCdXR0b24iLCJfZGVjMyIsIlNlcnZpY2VXb3JrZXIiLCJfZGVjNCIsIkxhYmVsIiwiX2RlYzUiLCJfZGVzY3JpcHRvciIsIl9hcHBseURlY29yYXRlZERlc2NyaXB0b3IiLCJfY2xhc3MyIiwiX0NvbXBvbmVudCIsIlBXQUluc3RhbGxlciIsIl90aGlzIiwiX2xlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJjYWxsIiwiYXBwbHkiLCJjb25jYXQiLCJfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSIsIl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJfZGVzY3JpcHRvcjIiLCJfZGVzY3JpcHRvcjMiLCJfZGVzY3JpcHRvcjQiLCJkZWZlcnJlZFByb21wdCIsImlzSW5zdGFsbGVkIiwiX2luaGVyaXRzTG9vc2UiLCJfcHJvdG8iLCJwcm90b3R5cGUiLCJzdGFydCIsIl90aGlzMiIsInRoaXMiLCJ3aW5kb3ciLCJjaGVja1BXQUluc3RhbGxhdGlvbiIsInNldHVwRXZlbnRMaXN0ZW5lcnMiLCJ1cGRhdGVVSSIsInZlcnNpb25MYWJlbCIsInN0cmluZyIsInNjcmVlbiIsIm9uIiwic2V0VGltZW91dCIsImNvbnNvbGUiLCJsb2ciLCJzeXMiLCJpc0Jyb3dzZXIiLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsIl90aGlzMyIsImluc3RhbGxCdXR0b24iLCJub2RlIiwiRXZlbnRUeXBlIiwiQ0xJQ0siLCJvbkluc3RhbGxCdXR0b25DbGljayIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJzaG93SW5zdGFsbFByb21wdCIsInNob3dBbHJlYWR5SW5zdGFsbGVkTWVzc2FnZSIsInNob3dJbnN0YWxsSW5zdHJ1Y3Rpb25zIiwiX3Nob3dJbnN0YWxsUHJvbXB0IiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJfcmVnZW5lcmF0b3JSdW50aW1lIiwibWFyayIsIl9jYWxsZWUiLCJfeWllbGQkdGhpcyRkZWZlcnJlZFAiLCJvdXRjb21lIiwid3JhcCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJhYnJ1cHQiLCJwcm9tcHQiLCJ1c2VyQ2hvaWNlIiwic2VudCIsInN0YXR1c0xhYmVsIiwidDAiLCJlcnJvciIsInN0b3AiLCJfdGhpczQiLCJfdGhpczUiLCJpbnRlcmFjdGFibGUiLCJnZXRDb21wb25lbnRJbkNoaWxkcmVuIiwiaXNQV0FJbnN0YWxsYWJsZSIsInJlZnJlc2hJbnN0YWxsYXRpb25TdGF0dXMiLCJvbkRlc3Ryb3kiLCJvZmYiLCJDb21wb25lbnQiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJpbml0aWFsaXplciIsIl9jbGFzcyIsIl9SRiIsInBvcCIsInJlZ2lzdHJhdGlvbiIsInJlZ2lzdGVyU2VydmljZVdvcmtlciIsImNoZWNrUHVzaE5vdGlmaWNhdGlvblN1cHBvcnQiLCJjaGVja1B1c2hTdWJzY3JpcHRpb24iLCJfY2hlY2tQdXNoU3Vic2NyaXB0aW9uIiwic3Vic2NyaXB0aW9uIiwicHVzaE1hbmFnZXIiLCJnZXRTdWJzY3JpcHRpb24iLCJ1cGRhdGVTdWJzY3JpYmVCdXR0b24iLCJzdWJzY3JpYmVUb1B1c2hOb3RpZmljYXRpb25zIiwiX3N1YnNjcmliZVRvUHVzaE5vdGlmaWNhdGlvbnMiLCJfY2FsbGVlMiIsIl9jb250ZXh0MiIsInNob3dTdWJzY3JpYmVGZWVkYmFjayIsInVuc3Vic2NyaWJlRnJvbVB1c2hOb3RpZmljYXRpb25zIiwiX3Vuc3Vic2NyaWJlRnJvbVB1c2hOb3RpZmljYXRpb25zIiwiX2NhbGxlZTMiLCJfY29udGV4dDMiLCJpc1N1YnNjcmliaW5nIiwic3Vic2NyaWJlQnV0dG9uIiwibGFiZWwiLCJpc1N1YnNjcmliZWQiLCJvblN1YnNjcmliZUJ1dHRvbkNsaWNrIiwidGVzdFB1c2hCdXR0b24iLCJvblRlc3RQdXNoQnV0dG9uQ2xpY2siLCJjaGVja0N1cnJlbnRTdWJzY3JpcHRpb25BbmRUb2dnbGUiLCJfY2hlY2tDdXJyZW50U3Vic2NyaXB0aW9uQW5kVG9nZ2xlIiwiX2NhbGxlZTQiLCJfY29udGV4dDQiLCJnZXRTdWJzY3JpcHRpb25TdGF0dXMiLCJzaG93VGVzdFB1c2hOb3RpZmljYXRpb24iLCJzaG93VGVzdEJ1dHRvbkZlZWRiYWNrIiwiX3RoaXMkdGVzdFB1c2hCdXR0b24kIiwib3JpZ2luYWxUZXh0IiwiTm90aWZpY2F0aW9uIiwicGVybWlzc2lvbiIsImNyZWF0ZVRlc3ROb3RpZmljYXRpb24iLCJyZXF1ZXN0UGVybWlzc2lvbiIsInRoZW4iLCJub3RpZmljYXRpb24iLCJzaG93Tm90aWZpY2F0aW9uIiwiYm9keSIsImljb24iLCJiYWRnZSIsInRhZyIsInJlcXVpcmVJbnRlcmFjdGlvbiIsInNpbGVudCIsImRhdGEiLCJ0eXBlIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsIm9uY2xpY2siLCJldmVudCIsImNsb3NlIiwiZm9jdXMiLCJzaG93TXVsdGlwbGVUZXN0Tm90aWZpY2F0aW9ucyIsImNvdW50IiwiaSIsIl9nZXRTdWJzY3JpcHRpb25TdGF0dXMiLCJfY2FsbGVlNSIsIl9jb250ZXh0NSIsImlzU2VydmljZVdvcmtlclJlZ2lzdGVyZWQiLCJpc1B1c2hOb3RpZmljYXRpb25TdXBwb3J0ZWQiLCJuYXZpZ2F0b3IiLCJyZVJlZ2lzdGVyU2VydmljZVdvcmtlciIsIl9yZVJlZ2lzdGVyU2VydmljZVdvcmtlciIsIl9jYWxsZWU2IiwiX2NvbnRleHQ2IiwidW5yZWdpc3RlciJdLCJtYXBwaW5ncyI6Ijs7OGpCQUVBLElBQVFBLEVBQXNCQyxFQUF0QkQsUUFBU0UsRUFBYUQsRUFBYkMsMkJBR1FDLEVBRHhCSCxFQUFRLGdCQUFlSSxFQUVuQkYsRUFBU0csR0FBT0MsRUFDaEJKLEVBQVNLLEdBQWNDLEVBQ3ZCTixFQUFTTyxHQUFNQyxFQUNmUixFQUFTTyxHQUFNTixHQUp1QlEsRUFBQUMsR0FJdkJDLFdBQUFDLEdBQUEsU0FBQUMsSUFBQSxJQUFBLElBQUFDLEVBQUFDLEVBQUFDLFVBQUFDLE9BQUFDLE1BQUFDLE1BQUFKLEdBQUFLLElBQUFBLEVBQUFMLEVBQUFLLElBQUFGLEVBQUFFLEdBQUFKLFVBQUFJLEdBR29CLE9BSHBCTixFQUFBRixFQUFBUyxLQUFBQyxNQUFBVixTQUFBVyxPQUFBTCxVQUFBTSxFQUFBVixrQkFBQUwsRUFBQWdCLEVBQUFYLElBQUFVLEVBQUFWLGtCQUFBWSxFQUFBRCxFQUFBWCxJQUYrQ1UsRUFBQVYsaUJBQUFhLEVBQUFGLEVBQUFYLElBQUFVLEVBQUFWLGdCQUFBYyxFQUFBSCxFQUFBWCxJQUFBQSxFQUl2RGUsZUFBc0IsS0FBSWYsRUFDMUJnQixhQUF1QixFQUFLaEIsRUFIcEJpQixFQUFBbEIsRUFBQUQsR0FHb0IsSUFBQW9CLEVBQUFuQixFQUFBb0IsVUF5S25DLE9BekttQ0QsRUFFcENFLE1BQUEsV0FBUSxJQUFBQyxPQUdKQyxLQUFLUCxlQUFpQlEsT0FBdUIsZUFDN0NELEtBQUtOLFlBQWNPLE9BQW9CLFlBR3ZDRCxLQUFLRSx1QkFDTEYsS0FBS0csc0JBQ0xILEtBQUtJLFdBQ0xKLEtBQUtLLGFBQWFDLE9BQVMsVUFNM0JDLEVBQU9DLEdBQUcsaUJBQWlCLFdBRXZCQyxZQUFXLFdBQ1BDLFFBQVFDLElBQUksaUJBQ1paLEVBQUtHLHVCQUNMSCxFQUFLSyxhQUNOLE9BQ0pKLE9BSVBKLEVBRVFNLHFCQUFSLFdB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RixFQUFPb0QsVUFBVUMsTUFBT3BCLEtBQUtxRix1QkFBd0JyRixNQUduRkEsS0FBS3NGLGdCQUNMdEYsS0FBS3NGLGVBQWVwRSxLQUFLb0MsSUFBSXZGLEVBQU9vRCxVQUFVQyxNQUFPcEIsS0FBS3VGLHNCQUF1QnZGLE9BRXhGL0IsR0FwVjhCc0YsSUFBUzFELDZCQUFBL0IsSUFBQTBGLGdCQUFBQyxjQUFBQyxZQUFBQyx1QkFBQSxPQUNJLFFBQUlyRSxFQUFBaEIsRUFBQUMsRUFBQXNCLDRCQUFBN0IsSUFBQXdGLGdCQUFBQyxjQUFBQyxZQUFBQyx1QkFBQSxPQUNMLFFBQTFCQyxFQUE4QnJGLEtBQUFxRixNQW1WbERDLElBQUFDIiwiZmlsZSI6ImFsbC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9kZWNvcmF0b3IsIEJ1dHRvbiwgQ29tcG9uZW50LCBMYWJlbCwgc2NyZWVuLCBzeXMgfSBmcm9tICdjYyc7XHJcbmltcG9ydCB7IFNlcnZpY2VXb3JrZXIgfSBmcm9tICcuL1NlcnZpY2VXb3JrZXInO1xyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBfZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3MoJ1BXQUluc3RhbGxlcicpXHJcbmV4cG9ydCBjbGFzcyBQV0FJbnN0YWxsZXIgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgQHByb3BlcnR5KEJ1dHRvbikgaW5zdGFsbEJ1dHRvbjogQnV0dG9uID0gbnVsbCE7XHJcbiAgICBAcHJvcGVydHkoU2VydmljZVdvcmtlcikgc2VydmljZVdvcmtlcjogU2VydmljZVdvcmtlciA9IG51bGwhOyAvLyBTZXJ2aWNlIFdvcmtlciDsu7Ttj6zrhIztirhcclxuICAgIEBwcm9wZXJ0eShMYWJlbCkgdmVyc2lvbkxhYmVsOiBMYWJlbCA9IG51bGwhO1xyXG4gICAgQHByb3BlcnR5KExhYmVsKSBzdGF0dXNMYWJlbDogTGFiZWwgPSBudWxsITtcclxuXHJcbiAgICBwcml2YXRlIGRlZmVycmVkUHJvbXB0OiBhbnkgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBpc0luc3RhbGxlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIHN0YXJ0KCkge1xyXG5cclxuICAgICAgICAvL2luZGV4LmVqc+yXkOyEnCDshKTsoJXtlZwgZGVmZXJyZWRQcm9tcHQg7IKs7JqpXHJcbiAgICAgICAgdGhpcy5kZWZlcnJlZFByb21wdCA9IHdpbmRvd1snZGVmZXJyZWRQcm9tcHQnXTtcclxuICAgICAgICB0aGlzLmlzSW5zdGFsbGVkID0gd2luZG93Wydpc0luc3RhbGxlZCddO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5jaGVja1BXQUluc3RhbGxhdGlvbigpO1xyXG4gICAgICAgIHRoaXMuc2V0dXBFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlVUkoKTtcclxuICAgICAgICB0aGlzLnZlcnNpb25MYWJlbC5zdHJpbmcgPSAndjAuMC4xMyc7XHJcblxyXG4gICAgICAgIC8vIFNlcnZpY2UgV29ya2Vy64qUIOuzhOuPhCDsu7Ttj6zrhIztirjsl5DshJwg7LKY66asXHJcblxyXG5cclxuXHJcbiAgICAgICAgc2NyZWVuLm9uKFwid2luZG93LXJlc2l6ZVwiLCAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwid2luZG93LXJlc2l6ZVwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tQV0FJbnN0YWxsYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVUkoKTtcclxuICAgICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICB9LCB0aGlzKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2VydmljZSBXb3JrZXIg6rSA66CoIOq4sOuKpeydgCBTZXJ2aWNlV29ya2VyLnRz7JeQ7IScIOyymOumrFxyXG5cclxuICAgIHByaXZhdGUgY2hlY2tQV0FJbnN0YWxsYXRpb24oKSB7XHJcbiAgICAgICAgLy8gUFdB6rCAIOydtOuvuCDshKTsuZjrkJjslrQg7J6I64qU7KeAIO2ZleyduFxyXG4gICAgICAgIGlmIChzeXMuaXNCcm93c2VyKSB7XHJcbiAgICAgICAgICAgIC8vIFBXQSDshKTsuZgg7IOB7YOcIO2ZleyduFxyXG4gICAgICAgICAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEoJyhkaXNwbGF5LW1vZGU6IHN0YW5kYWxvbmUpJykubWF0Y2hlcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0luc3RhbGxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpc0luc3RhbGxlZCcsIHRoaXMuaXNJbnN0YWxsZWQpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn67iM65287Jqw7KCAIO2ZmOqyvTonLCBzeXMuaXNCcm93c2VyKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2Rpc3BsYXktbW9kZSBzdGFuZGFsb25lOicsIHdpbmRvdy5tYXRjaE1lZGlhKCcoZGlzcGxheS1tb2RlOiBzdGFuZGFsb25lKScpLm1hdGNoZXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldHVwRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5zdGFsbEJ1dHRvbikge1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbGxCdXR0b24ubm9kZS5vbihCdXR0b24uRXZlbnRUeXBlLkNMSUNLLCB0aGlzLm9uSW5zdGFsbEJ1dHRvbkNsaWNrLCB0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNlcnZpY2UgV29ya2VyIOydtOuypO2KuOuKlCBTZXJ2aWNlV29ya2VyLnRz7JeQ7IScIOyymOumrFxyXG5cclxuICAgICAgICAvLyBiZWZvcmVpbnN0YWxscHJvbXB0IOydtOuypO2KuCDrpqzsiqTrhIggXHJcbiAgICAgICAgLy8gYmVmb3JlaW5zdGFsbHByb21wdCDsnbTrsqTtirjripQg7Y6Y7J207KeAIOuhnOuTnCDsi5zsoJDsl5Ag7J2066+4IOuwnOyDne2WiOydhCDsiJgg7J6I64qU642wLCDsmrDrpqzqsIAg7J2067Kk7Yq4IOumrOyKpOuEiOulvCDrk7HroZ3tlZjquLAg7KCE7JeQIOuGk+yzkOuyhOumsCDqsbDso6AhXHJcbiAgICAgICAgLy/rmJDtlZwg66qo64usIO2MneyXheyXkOyEnCDst6jshozsi5wg7J2067Kk7Yq466W8IOydtOyqveyXkOyEnCDsuqHss5DtlbTshJwg64uk7IucIOyEpOy5mCDqsIDriqXtlZjqsozrgZQg7ZW07KSA64ukXHJcblxyXG4gICAgICAgIGlmIChzeXMuaXNCcm93c2VyKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmVpbnN0YWxscHJvbXB0JywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVmZXJyZWRQcm9tcHQgPSBlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVVSSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIGFwcGluc3RhbGxlZCDsnbTrsqTtirgg66as7Iqk64SIXHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdhcHBpbnN0YWxsZWQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzSW5zdGFsbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVUkoKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQV0HqsIAg7ISx6rO17KCB7Jy866GcIOyEpOy5mOuQmOyXiOyKteuLiOuLpCEnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25JbnN0YWxsQnV0dG9uQ2xpY2soKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGVmZXJyZWRQcm9tcHQpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93SW5zdGFsbFByb21wdCgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0luc3RhbGxlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dBbHJlYWR5SW5zdGFsbGVkTWVzc2FnZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0luc3RhbGxJbnN0cnVjdGlvbnMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g7ZG47IucIOq1rOuPhSDqtIDroKgg6riw64ql7J2AIFNlcnZpY2VXb3JrZXIudHPsl5DshJwg7LKY66asXHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyBzaG93SW5zdGFsbFByb21wdCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZGVmZXJyZWRQcm9tcHQpIHJldHVybjtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8g7ISk7LmYIO2UhOuhrO2UhO2KuCDtkZzsi5xcclxuICAgICAgICAgICAgdGhpcy5kZWZlcnJlZFByb21wdC5wcm9tcHQoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIOyCrOyaqeyekOydmCDsnZHri7Ug64yA6riwXHJcbiAgICAgICAgICAgIGNvbnN0IHsgb3V0Y29tZSB9ID0gYXdhaXQgdGhpcy5kZWZlcnJlZFByb21wdC51c2VyQ2hvaWNlO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ291dGNvbWUnLCBvdXRjb21lLCB0aGlzLmRlZmVycmVkUHJvbXB0KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChvdXRjb21lID09PSAnYWNjZXB0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn7IKs7Jqp7J6Q6rCAIFBXQSDshKTsuZjrpbwg7IiY65297ZaI7Iq164uI64ukJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c0xhYmVsLnN0cmluZyA9ICfshKTsuZgg7KSRLi4uJztcclxuXHJcbiAgICAgICAgICAgICAgICAvLyDshKTsuZgg7IiY6529IOyLnOyXkOunjCDtlITroaztlITtirgg7LSI6riw7ZmUXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlZmVycmVkUHJvbXB0ID0gbnVsbDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfsgqzsmqnsnpDqsIAgUFdBIOyEpOy5mOulvCDqsbDrtoDtlojsirXri4jri6QnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzTGFiZWwuc3RyaW5nID0gJ+yEpOy5mOqwgCDst6jshozrkJjsl4jsirXri4jri6QnO1xyXG4gICAgICAgICAgICAgICAgLyogXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g7ISk7LmYIOy3qOyGjCDsi5zsl5DripQg7ZSE66Gs7ZSE7Yq4IOycoOyngCAo64uk7IucIOyEpOy5mCDqsIDriqUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+yCrOyaqeyekOqwgCDst6jshoztlojsp4Drp4wg64uk7IucIOyEpOy5mO2VoCDsiJgg7J6I7Iq164uI64ukJyk7ICovXHJcblxyXG4gICAgICAgICAgICAgICAgLy/tlZzrsogg66y87Ja067SQ7IScIOy3qOyGjO2VmOuptCDri6Tsi5wg67KE7Yq8IO2BtOumreyLnCBwcm9tcHTqsIAg7JWI65Cc64ukOzs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVUkoKTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignUFdBIOyEpOy5mCDspJEg7Jik66WYIOuwnOyDnTonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzTGFiZWwuc3RyaW5nID0gJ+yEpOy5mCDspJEg7Jik66WY6rCAIOuwnOyDne2WiOyKteuLiOuLpCc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2hvd0FscmVhZHlJbnN0YWxsZWRNZXNzYWdlKCkge1xyXG4gICAgICAgIHRoaXMuc3RhdHVzTGFiZWwuc3RyaW5nID0gJ1BXQeqwgCDsnbTrr7gg7ISk7LmY65CY7Ja0IOyeiOyKteuLiOuLpCEnO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVVJKCk7XHJcbiAgICAgICAgfSwgMjAwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzaG93SW5zdGFsbEluc3RydWN0aW9ucygpIHtcclxuICAgICAgICB0aGlzLnN0YXR1c0xhYmVsLnN0cmluZyA9ICfruIzrnbzsmrDsoIDsl5DshJwg7ISk7LmYIOyYteyFmOydhCDssL7slYTso7zshLjsmpQnO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVVJKCk7XHJcbiAgICAgICAgfSwgMzAwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVVSSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFsbEJ1dHRvbiB8fCAhdGhpcy5zdGF0dXNMYWJlbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pc0luc3RhbGxlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbGxCdXR0b24uaW50ZXJhY3RhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFsbEJ1dHRvbi5ub2RlLmdldENvbXBvbmVudEluQ2hpbGRyZW4oTGFiZWwpIS5zdHJpbmcgPSAn7J2066+4IOyEpOy5mOuQqCc7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzTGFiZWwuc3RyaW5nID0gJ1BXQeqwgCDshKTsuZjrkJjslrQg7J6I7Iq164uI64ukJztcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGVmZXJyZWRQcm9tcHQpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YWxsQnV0dG9uLmludGVyYWN0YWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFsbEJ1dHRvbi5ub2RlLmdldENvbXBvbmVudEluQ2hpbGRyZW4oTGFiZWwpIS5zdHJpbmcgPSAnUFdBIOyEpOy5mCc7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzTGFiZWwuc3RyaW5nID0gJ+yEpOy5mO2VoCDspIDruYTqsIAg65CY7JeI7Iq164uI64ukJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbGxCdXR0b24uaW50ZXJhY3RhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFsbEJ1dHRvbi5ub2RlLmdldENvbXBvbmVudEluQ2hpbGRyZW4oTGFiZWwpIS5zdHJpbmcgPSAn7ISk7LmYIOu2iOqwgCc7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzTGFiZWwuc3RyaW5nID0gJ+ydtOuvuCDshKTsuZjrkJjslrTsnojqsbDrgpgg7ISk7LmYIO2VoOyImCDsl4bsirXri4jri6QnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBQV0Eg7ISk7LmYIOqwgOuKpSDsl6zrtoAg7ZmV7J24XHJcbiAgICBwdWJsaWMgaXNQV0FJbnN0YWxsYWJsZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kZWZlcnJlZFByb21wdCAhPT0gbnVsbCAmJiAhdGhpcy5pc0luc3RhbGxlZDtcclxuICAgIH1cclxuXHJcbiAgICAvLyDsiJjrj5nsnLzroZwg7ISk7LmYIOyDge2DnCDtmZXsnbggKOyZuOu2gOyXkOyEnCDtmLjstpwg6rCA64qlKVxyXG4gICAgcHVibGljIHJlZnJlc2hJbnN0YWxsYXRpb25TdGF0dXMoKSB7XHJcbiAgICAgICAgdGhpcy5jaGVja1BXQUluc3RhbGxhdGlvbigpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlVUkoKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkRlc3Ryb3koKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5zdGFsbEJ1dHRvbikge1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbGxCdXR0b24ubm9kZS5vZmYoQnV0dG9uLkV2ZW50VHlwZS5DTElDSywgdGhpcy5vbkluc3RhbGxCdXR0b25DbGljaywgdGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZXJ2aWNlIFdvcmtlciDsnbTrsqTtirjripQgU2VydmljZVdvcmtlci50c+yXkOyEnCDsspjrpqxcclxuICAgIH1cclxufVxyXG5cclxuXHJcbiIsImltcG9ydCB7IF9kZWNvcmF0b3IsIEJ1dHRvbiwgQ29tcG9uZW50LCBMYWJlbCB9IGZyb20gJ2NjJztcclxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzKCdTZXJ2aWNlV29ya2VyJylcclxuZXhwb3J0IGNsYXNzIFNlcnZpY2VXb3JrZXIgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgQHByb3BlcnR5KEJ1dHRvbikgc3Vic2NyaWJlQnV0dG9uOiBCdXR0b24gPSBudWxsITsgLy8g7ZG47IucIOq1rOuPhSDrsoTtirxcclxuICAgIEBwcm9wZXJ0eShCdXR0b24pIHRlc3RQdXNoQnV0dG9uOiBCdXR0b24gPSBudWxsITsgLy8g7YWM7Iqk7Yq4IO2RuOyLnCDsoITsmqkg67KE7Yq8XHJcblxyXG4gICAgcHJpdmF0ZSByZWdpc3RyYXRpb246IFNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24gfCBudWxsID0gbnVsbDtcclxuXHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyU2VydmljZVdvcmtlcigpO1xyXG4gICAgICAgIHRoaXMuc2V0dXBFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogaW5kZXguaHRtbOyXkOyEnCDrr7jrpqwg65Ox66Gd7ZW07KSY7JW8IGNhc2hzdG9yYWdl6rCAIOyCrOyaqSDqsIDriqXtlZjri6RcclxuICAgICAqIFNlcnZpY2UgV29ya2VyIOuTseuhnVxyXG4gICAgICogXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVnaXN0ZXJTZXJ2aWNlV29ya2VyKCkge1xyXG4gICAgICAgIHRoaXMucmVnaXN0cmF0aW9uID0gd2luZG93WydyZWdpc3RyYXRpb24nXTtcclxuICAgICAgICB0aGlzLmNoZWNrUHVzaE5vdGlmaWNhdGlvblN1cHBvcnQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIO2RuOyLnCDslYzrprwg7KeA7JuQIOyXrOu2gCDtmZXsnbhcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjaGVja1B1c2hOb3RpZmljYXRpb25TdXBwb3J0KCkge1xyXG4gICAgICAgIGlmICgnUHVzaE1hbmFnZXInIGluIHdpbmRvdykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIO2RuOyLnCDslYzrprwg7KeA7JuQ65CoJyk7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tQdXNoU3Vic2NyaXB0aW9uKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KdjCDtkbjsi5wg7JWM66a8IOyngOybkOuQmOyngCDslYrsnYwnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDtmITsnqwg7ZG47IucIOq1rOuPhSDsg4Htg5wg7ZmV7J24XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYXN5bmMgY2hlY2tQdXNoU3Vic2NyaXB0aW9uKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5yZWdpc3RyYXRpb24pIHJldHVybjtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gYXdhaXQgdGhpcy5yZWdpc3RyYXRpb24ucHVzaE1hbmFnZXIuZ2V0U3Vic2NyaXB0aW9uKCk7XHJcbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUg7J2066+4IO2RuOyLnCDqtazrj4XrkKg6Jywgc3Vic2NyaXB0aW9uKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3Vic2NyaWJlQnV0dG9uKHRydWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KPsyDtkbjsi5wg6rWs64+FIO2VhOyalCcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdWJzY3JpYmVCdXR0b24oZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KdjCDtkbjsi5wg6rWs64+FIOyDge2DnCDtmZXsnbgg7Iuk7YyoOicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDtkbjsi5wg7JWM66a8IOq1rOuPhSAo7YWM7Iqk7Yq47JqpIC0g7ISc67KEIOyXsOuPmSDsl4bsnYwpXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhc3luYyBzdWJzY3JpYmVUb1B1c2hOb3RpZmljYXRpb25zKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SUIO2FjOyKpO2KuCDtkbjsi5wg7JWM66a8IOq1rOuPhScpO1xyXG5cclxuICAgICAgICAvLyDqtazrj4Ug7ISx6rO1IOyLnCDsi5zqsIHsoIEg7ZS865Oc67CxXHJcbiAgICAgICAgdGhpcy5zaG93U3Vic2NyaWJlRmVlZGJhY2sodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVTdWJzY3JpYmVCdXR0b24odHJ1ZSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog7ZG47IucIOyVjOumvCDqtazrj4Ug7ZW07KCcICjthYzsiqTtirjsmqkpXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhc3luYyB1bnN1YnNjcmliZUZyb21QdXNoTm90aWZpY2F0aW9ucygpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+UlCDthYzsiqTtirgg7ZG47IucIOyVjOumvCDqtazrj4Ug7ZW07KCcJyk7XHJcblxyXG4gICAgICAgIC8vIOq1rOuPhSDtlbTsoJwg7IucIOyLnOqwgeyggSDtlLzrk5zrsLFcclxuICAgICAgICB0aGlzLnNob3dTdWJzY3JpYmVGZWVkYmFjayhmYWxzZSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVTdWJzY3JpYmVCdXR0b24oZmFsc2UpO1xyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOq1rOuPhS/tlbTsoJwg7IucIOyLnOqwgeyggSDtlLzrk5zrsLEg7ZGc7IucXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc2hvd1N1YnNjcmliZUZlZWRiYWNrKGlzU3Vic2NyaWJpbmc6IGJvb2xlYW4pIHtcclxuICAgICAgICBpZiAodGhpcy5zdWJzY3JpYmVCdXR0b24pIHtcclxuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSB0aGlzLnN1YnNjcmliZUJ1dHRvbi5ub2RlLmdldENvbXBvbmVudEluQ2hpbGRyZW4oTGFiZWwpO1xyXG4gICAgICAgICAgICBpZiAobGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsVGV4dCA9IGxhYmVsLnN0cmluZztcclxuXHJcbiAgICAgICAgICAgICAgICAvLyDsnqDsi5wg7ZS865Oc67CxIO2FjeyKpO2KuCDtkZzsi5xcclxuICAgICAgICAgICAgICAgIGlmIChpc1N1YnNjcmliaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwuc3RyaW5nID0gJ+q1rOuPheuQqCEnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5zdHJpbmcgPSAn7ZW07KCc65CoISc7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLyogICAgICAgLy8gMS417LSIIO2bhCDsm5Drnpgg7YWN7Iqk7Yq466GcIOuzteybkFxyXG4gICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwuc3RyaW5nID0gb3JpZ2luYWxUZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSwgMTUwMCk7ICovXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDqtazrj4Ug67KE7Yq8IFVJIOyXheuNsOydtO2KuFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHVwZGF0ZVN1YnNjcmliZUJ1dHRvbihpc1N1YnNjcmliZWQ6IGJvb2xlYW4pIHtcclxuICAgICAgICBpZiAodGhpcy5zdWJzY3JpYmVCdXR0b24pIHtcclxuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSB0aGlzLnN1YnNjcmliZUJ1dHRvbi5ub2RlLmdldENvbXBvbmVudEluQ2hpbGRyZW4oTGFiZWwpO1xyXG4gICAgICAgICAgICBpZiAobGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc1N1YnNjcmliZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5zdHJpbmcgPSAn7ZG47IucIO2VtOygnCc7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSDqtazrj4Ug7JmE66OMOiDrsoTtirzsnbQgXCLtkbjsi5wg7ZW07KCcXCLroZwg67OA6rK965CoJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLnN0cmluZyA9ICftkbjsi5wg6rWs64+FJztcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIOq1rOuPhSDtlbTsoJwg7JmE66OMOiDrsoTtirzsnbQgXCLtkbjsi5wg6rWs64+FXCLsnLzroZwg67OA6rK965CoJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmVCdXR0b24uaW50ZXJhY3RhYmxlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDsnbTrsqTtirgg66as7Iqk64SIIOyEpOyglVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNldHVwRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3Vic2NyaWJlQnV0dG9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlQnV0dG9uLm5vZGUub24oQnV0dG9uLkV2ZW50VHlwZS5DTElDSywgdGhpcy5vblN1YnNjcmliZUJ1dHRvbkNsaWNrLCB0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnRlc3RQdXNoQnV0dG9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGVzdFB1c2hCdXR0b24ubm9kZS5vbihCdXR0b24uRXZlbnRUeXBlLkNMSUNLLCB0aGlzLm9uVGVzdFB1c2hCdXR0b25DbGljaywgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6rWs64+FIOuyhO2KvCDtgbTrpq0g7J2067Kk7Yq4IOyymOumrFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uU3Vic2NyaWJlQnV0dG9uQ2xpY2soKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/CflJQg6rWs64+FIOuyhO2KvCDtgbTrpq3rkKgnKTtcclxuXHJcbiAgICAgICAgLy8g7ZiE7J6sIOq1rOuPhSDsg4Htg5wg7ZmV7J24XHJcbiAgICAgICAgdGhpcy5jaGVja0N1cnJlbnRTdWJzY3JpcHRpb25BbmRUb2dnbGUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIO2YhOyerCDqtazrj4Ug7IOB7YOc66W8IO2ZleyduO2VmOqzoCDthqDquIBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBhc3luYyBjaGVja0N1cnJlbnRTdWJzY3JpcHRpb25BbmRUb2dnbGUoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8g7ZiE7J6sIOq1rOuPhSDsg4Htg5wg7ZmV7J24XHJcbiAgICAgICAgICAgIGNvbnN0IGlzQ3VycmVudGx5U3Vic2NyaWJlZCA9IGF3YWl0IHRoaXMuZ2V0U3Vic2NyaXB0aW9uU3RhdHVzKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaXNDdXJyZW50bHlTdWJzY3JpYmVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyDsnbTrr7gg6rWs64+F65CcIOqyveyasCDihpIg7ZW07KCcXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCDqtazrj4Ug7ZW07KCcIOykkS4uLicpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy51bnN1YnNjcmliZUZyb21QdXNoTm90aWZpY2F0aW9ucygpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8g6rWs64+F65CY7KeAIOyViuydgCDqsr3smrAg4oaSIOq1rOuPhVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQg6rWs64+FIOykkS4uLicpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zdWJzY3JpYmVUb1B1c2hOb3RpZmljYXRpb25zKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg6rWs64+FIOyDge2DnCDthqDquIAg7Iuk7YyoOicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDthYzsiqTtirgg7ZG47IucIOuyhO2KvCDtgbTrpq0g7J2067Kk7Yq4IOyymOumrFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG9uVGVzdFB1c2hCdXR0b25DbGljaygpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+nqiDthYzsiqTtirgg7ZG47IucIOuyhO2KvCDtgbTrpq3rkKgnKTtcclxuXHJcbiAgICAgICAgLy8g7KaJ7IucIO2FjOyKpO2KuCDtkbjsi5wg7KCE7IahXHJcbiAgICAgICAgdGhpcy5zaG93VGVzdFB1c2hOb3RpZmljYXRpb24oKTtcclxuXHJcbiAgICAgICAgLy8g67KE7Yq87JeQIO2UvOuTnOuwsSDtkZzsi5wgKOyEoO2DneyCrO2VrSlcclxuICAgICAgICB0aGlzLnNob3dUZXN0QnV0dG9uRmVlZGJhY2soKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIO2FjOyKpO2KuCDrsoTtirwg7ZS865Oc67CxIO2RnOyLnFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNob3dUZXN0QnV0dG9uRmVlZGJhY2soKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudGVzdFB1c2hCdXR0b24pIHtcclxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxUZXh0ID0gdGhpcy50ZXN0UHVzaEJ1dHRvbi5ub2RlLmdldENvbXBvbmVudEluQ2hpbGRyZW4oTGFiZWwpPy5zdHJpbmcgfHwgJ+2FjOyKpO2KuCDtkbjsi5wnO1xyXG5cclxuICAgICAgICAgICAgLy8g67KE7Yq8IO2FjeyKpO2KuOulvCDsnqDsi5wg67OA6rK9XHJcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gdGhpcy50ZXN0UHVzaEJ1dHRvbi5ub2RlLmdldENvbXBvbmVudEluQ2hpbGRyZW4oTGFiZWwpO1xyXG4gICAgICAgICAgICBpZiAobGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsLnN0cmluZyA9ICfsoITshqHrkKghJztcclxuXHJcbiAgICAgICAgICAgICAgICAvLyAy7LSIIO2bhCDsm5Drnpgg7YWN7Iqk7Yq466GcIOuzteybkFxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwuc3RyaW5nID0gb3JpZ2luYWxUZXh0O1xyXG4gICAgICAgICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDthYzsiqTtirjsmqkg7ZG47IucIOyVjOumvCDtkZzsi5wgKOyEnOuyhCDsl7Drj5kg7JeG7J2MKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2hvd1Rlc3RQdXNoTm90aWZpY2F0aW9uKCkge1xyXG4gICAgICAgIGlmICghKCdOb3RpZmljYXRpb24nIGluIHdpbmRvdykpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KdjCDsnbQg67iM65287Jqw7KCA64qUIOyVjOumvOydhCDsp4Dsm5DtlZjsp4Ag7JWK7Iq164uI64ukJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChOb3RpZmljYXRpb24ucGVybWlzc2lvbiA9PT0gJ2dyYW50ZWQnKSB7XHJcbiAgICAgICAgICAgIC8vIOq2jO2VnOydtCDsnbTrr7gg7ZeI7Jqp65CcIOqyveyasFxyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVRlc3ROb3RpZmljYXRpb24oKTtcclxuICAgICAgICB9IGVsc2UgaWYgKE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uICE9PSAnZGVuaWVkJykge1xyXG4gICAgICAgICAgICAvLyDqtoztlZwg7JqU7LKtXHJcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbigpLnRoZW4ocGVybWlzc2lvbiA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGVybWlzc2lvbiA9PT0gJ2dyYW50ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVUZXN0Tm90aWZpY2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinYwg7JWM66a8IOq2jO2VnOydtCDqsbDrtoDrkKgnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KdjCDslYzrprwg6raM7ZWc7J20IOqxsOu2gOuQqCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIO2FjOyKpO2KuCDslYzrprwg7IOd7ISxXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgY3JlYXRlVGVzdE5vdGlmaWNhdGlvbigpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+UlCDthYzsiqTtirgg7JWM66a8IOyDneyEsScpO1xyXG4gICAgICAgIGxldCBub3RpZmljYXRpb25cclxuXHJcbiAgICAgICAgLyogICBpZiAoc3lzLmlzTW9iaWxlKSB7ICovXHJcbiAgICAgICAgbm90aWZpY2F0aW9uID0gdGhpcy5yZWdpc3RyYXRpb24uc2hvd05vdGlmaWNhdGlvbign8J+agCBQV0Eg7YWM7Iqk7Yq4IOyVjOumvCEnLCB7XHJcbiAgICAgICAgICAgIGJvZHk6ICfshJzrsoQg7Jew64+ZIOyXhuydtCDroZzsu6zsl5DshJwg7ZG47IucIOyVjOumvOydtCDsnpHrj5ntlanri4jri6QhJyxcclxuICAgICAgICAgICAgaWNvbjogJy9wd2Fjb2Nvcy9pY29uLnBuZycsXHJcbiAgICAgICAgICAgIGJhZGdlOiAnL3B3YWNvY29zL2ljb24ucG5nJyxcclxuICAgICAgICAgICAgdGFnOiAndGVzdC1ub3RpZmljYXRpb24nLFxyXG4gICAgICAgICAgICByZXF1aXJlSW50ZXJhY3Rpb246IGZhbHNlLFxyXG4gICAgICAgICAgICBzaWxlbnQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAndGVzdCcsXHJcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKiAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgbm90aWZpY2F0aW9uID0gbmV3IE5vdGlmaWNhdGlvbign8J+agCBQV0Eg7YWM7Iqk7Yq4IOyVjOumvCEnLCB7XHJcbiAgICAgICAgICAgICAgICAgIGJvZHk6ICfshJzrsoQg7Jew64+ZIOyXhuydtCDroZzsu6zsl5DshJwg7ZG47IucIOyVjOumvOydtCDsnpHrj5ntlanri4jri6QhJyxcclxuICAgICAgICAgICAgICAgICAgaWNvbjogJy9wd2Fjb2Nvcy9pY29uLnBuZycsXHJcbiAgICAgICAgICAgICAgICAgIGJhZGdlOiAnL3B3YWNvY29zL2ljb24ucG5nJyxcclxuICAgICAgICAgICAgICAgICAgdGFnOiAndGVzdC1ub3RpZmljYXRpb24nLFxyXG4gICAgICAgICAgICAgICAgICByZXF1aXJlSW50ZXJhY3Rpb246IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICBzaWxlbnQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGVzdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gIFxyXG4gICAgICAgICAgfSAqL1xyXG5cclxuICAgICAgICAvLyDslYzrprwg7YG066atIOydtOuypO2KuFxyXG4gICAgICAgIG5vdGlmaWNhdGlvbi5vbmNsaWNrID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SUIO2FjOyKpO2KuCDslYzrprwg7YG066at65CoOicsIGV2ZW50KTtcclxuICAgICAgICAgICAgbm90aWZpY2F0aW9uLmNsb3NlKCk7XHJcblxyXG4gICAgICAgICAgICAvLyDslbEg7Y+s7Luk7IqkIOuYkOuKlCDsg4gg7LC9IOyXtOq4sFxyXG4gICAgICAgICAgICBpZiAod2luZG93LmZvY3VzKSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuZm9jdXMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIDXstIgg7ZuEIOyekOuPmeycvOuhnCDslYzrprwg64ur6riwXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbi5jbG9zZSgpO1xyXG4gICAgICAgIH0sIDUwMDApO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygn4pyFIO2FjOyKpO2KuCDtkbjsi5wg7JWM66a8IOyghOyGoeuQqCcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog7Jes65+sIOqwnOydmCDthYzsiqTtirgg7JWM66a8IOyghOyGoSAo7YWM7Iqk7Yq47JqpKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2hvd011bHRpcGxlVGVzdE5vdGlmaWNhdGlvbnMoY291bnQ6IG51bWJlciA9IDMpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVRlc3ROb3RpZmljYXRpb24oKTtcclxuICAgICAgICAgICAgfSwgaSAqIDEwMDApOyAvLyAx7LSIIOqwhOqyqeycvOuhnCDsoITshqFcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDtmITsnqwg6rWs64+FIOyDge2DnCDrsJjtmZhcclxuICAgICAqL1xyXG4gICAgcHVibGljIGFzeW5jIGdldFN1YnNjcmlwdGlvblN0YXR1cygpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgICAgICBpZiAoIXRoaXMucmVnaXN0cmF0aW9uKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IGF3YWl0IHRoaXMucmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLmdldFN1YnNjcmlwdGlvbigpO1xyXG4gICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uICE9PSBudWxsO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfqtazrj4Ug7IOB7YOcIO2ZleyduCDsi6TtjKg6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2VydmljZSBXb3JrZXIg65Ox66GdIOyDge2DnCDrsJjtmZhcclxuICAgICAqL1xyXG4gICAgcHVibGljIGlzU2VydmljZVdvcmtlclJlZ2lzdGVyZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVnaXN0cmF0aW9uICE9PSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog7ZG47IucIOyVjOumvCDsp4Dsm5Ag7Jes67aAIOuwmO2ZmFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaXNQdXNoTm90aWZpY2F0aW9uU3VwcG9ydGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiAnUHVzaE1hbmFnZXInIGluIHdpbmRvdyAmJiAnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog7IiY64+Z7Jy866GcIFNlcnZpY2UgV29ya2VyIOyerOuTseuhnVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYXN5bmMgcmVSZWdpc3RlclNlcnZpY2VXb3JrZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVnaXN0cmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucmVnaXN0cmF0aW9uLnVucmVnaXN0ZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlclNlcnZpY2VXb3JrZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkRlc3Ryb3koKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3Vic2NyaWJlQnV0dG9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlQnV0dG9uLm5vZGUub2ZmKEJ1dHRvbi5FdmVudFR5cGUuQ0xJQ0ssIHRoaXMub25TdWJzY3JpYmVCdXR0b25DbGljaywgdGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy50ZXN0UHVzaEJ1dHRvbikge1xyXG4gICAgICAgICAgICB0aGlzLnRlc3RQdXNoQnV0dG9uLm5vZGUub2ZmKEJ1dHRvbi5FdmVudFR5cGUuQ0xJQ0ssIHRoaXMub25UZXN0UHVzaEJ1dHRvbkNsaWNrLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl19